{
  "version": 3,
  "sources": ["../src/index.js", "../src/i18n/default.i18n.js", "../src/core/default-options.js", "../src/core/renderers/shell-renderer.js", "../src/core/renderers/header-renderer.js", "../src/core/renderers/body-renderer.js", "../src/core/renderers/footer-renderer.js", "../src/core/themes/theme-manager.js", "../src/core/renderer.js", "../src/core/parallel/projection-worker-pool.js", "../src/core/state-store.js", "../src/utils/deep-merge.js", "../src/utils/event-emitter.js", "../src/core/data-sources/client-data-source.js", "../src/core/data-sources/server-data-source.js", "../src/core/data-sources/create-data-source.js", "../src/core/sync/state-sync.js", "../src/core/vanilla-table.js", "../src/plugins/striped-rows.js", "../src/plugins/theme-plugin.js", "../src/plugins/bootstrap-theme.js", "../src/plugins/bulma-theme.js", "../src/plugins/mui-theme.js", "../src/plugins/tailwind-theme.js", "../src/plugins/actions-dropdown.js", "../src/adapters/server-adapters.js"],
  "sourcesContent": ["import { VanillaTable } from './core/vanilla-table.js';\nimport { stripedRowsPlugin } from './plugins/striped-rows.js';\nimport { themePlugin } from './plugins/theme-plugin.js';\nimport { bootstrapThemePlugin } from './plugins/bootstrap-theme.js';\nimport { bulmaThemePlugin } from './plugins/bulma-theme.js';\nimport { muiThemePlugin } from './plugins/mui-theme.js';\nimport { tailwindThemePlugin } from './plugins/tailwind-theme.js';\nimport { actionsDropdownPlugin } from './plugins/actions-dropdown.js';\nimport { createRestAdapter, createGraphQLAdapter, createCursorAdapter } from './adapters/server-adapters.js';\n\nexport {\n  VanillaTable,\n  stripedRowsPlugin,\n  themePlugin,\n  bootstrapThemePlugin,\n  bulmaThemePlugin,\n  muiThemePlugin,\n  tailwindThemePlugin,\n  actionsDropdownPlugin,\n  createRestAdapter,\n  createGraphQLAdapter,\n  createCursorAdapter\n};\n\n/**\n * Creates and initializes a table instance.\n *\n * @param {HTMLElement} element\n * @param {Record<string, any>[]} rows\n * @param {Record<string, any>} [options]\n * @returns {VanillaTable}\n */\nexport function createVanillaTable(element, rows, options) {\n  return new VanillaTable(element, rows, options).init();\n}\n", "export const defaultI18n = {\n  search: 'Search',\n  filter: 'Filter',\n  rows: 'Rows',\n  actions: 'Actions',\n  loading: 'Loading...',\n  empty: 'No results found',\n  pageInfo: 'Page {page} of {totalPages} ({totalRows} rows)',\n  first: 'First',\n  prev: 'Previous',\n  next: 'Next',\n  last: 'Last'\n};\n", "import { defaultI18n } from '../i18n/default.i18n.js';\n\n/**\n * Defines baseline plugin options.\n */\nexport const defaultOptions = {\n  pageSize: 10,\n  pageSizeOptions: [10, 25, 50, 100],\n  searchable: true,\n  columnFilters: true,\n  sortable: true,\n  multiSort: true,\n  maxSorts: 3,\n  pagination: true,\n  initialSort: null,\n  debounceMs: 120,\n  fixedHeader: false,\n  fixedFooter: false,\n  fixedColumns: 0,\n  fixedTopRows: 0,\n  expandableRows: false,\n  editableRows: false,\n  editableColumns: {},\n  rowIdKey: 'id',\n  serverSide: false,\n  fetchData: null,\n  virtualScroll: {\n    enabled: false,\n    rowHeight: 40,\n    overscan: 6,\n    height: 420\n  },\n  parallel: {\n    enabled: true,\n    threshold: 20000,\n    workers: 'auto',\n    timeoutMs: 4000,\n    retries: 1\n  },\n  persistence: {\n    enabled: false,\n    storageKey: null\n  },\n  urlSync: {\n    enabled: false,\n    param: 'vt'\n  },\n  columnResize: true,\n  columnReorder: true,\n  rowActions: [],\n  events: {\n    debug: false\n  },\n  themeClasses: {},\n  expandRow: null,\n  i18n: defaultI18n,\n  labels: {\n    search: defaultI18n.search,\n    filter: defaultI18n.filter,\n    rows: defaultI18n.rows,\n    actions: defaultI18n.actions,\n    loading: defaultI18n.loading,\n    pageInfo: ({ page, totalPages, totalRows }) =>\n      defaultI18n.pageInfo\n        .replace('{page}', String(page))\n        .replace('{totalPages}', String(totalPages))\n        .replace('{totalRows}', String(totalRows)),\n    empty: defaultI18n.empty,\n    first: defaultI18n.first,\n    prev: defaultI18n.prev,\n    next: defaultI18n.next,\n    last: defaultI18n.last\n  },\n  columns: []\n};\n", "/**\n * Renders static shell markup and resolves DOM references.\n */\nexport class ShellRenderer {\n  /**\n   * Creates a shell renderer instance.\n   *\n   * @param {{ root: HTMLElement, options: Record<string, any>, theme: import('../themes/theme-manager.js').ThemeManager }} config\n   */\n  constructor({ root, options, theme }) {\n    /** @type {HTMLElement} */\n    this.root = root;\n    /** @type {Record<string, any>} */\n    this.options = options;\n    /** @type {import('../themes/theme-manager.js').ThemeManager} */\n    this.theme = theme;\n  }\n\n  /**\n   * Mounts static shell structure.\n   *\n   * @returns {Record<string, HTMLElement>}\n   */\n  mount() {\n    this.root.innerHTML = `\n      <div class=\"${this.theme.classOf('shell', 'vt-shell')}\">\n        <div class=\"${this.theme.classOf('controls', 'vt-controls')}\">\n          <label class=\"${this.theme.classOf('sizeWrap', 'vt-size-wrap')}\">\n            <span>${this.options.labels.rows}</span>\n            <select class=\"${this.theme.classOf('sizeSelect', 'vt-size')}\"></select>\n          </label>\n          <label class=\"${this.theme.classOf('searchWrap', 'vt-search-wrap')}\">\n            <span>${this.options.labels.search}</span>\n            <input class=\"${this.theme.classOf('searchInput', 'vt-search')}\" type=\"search\" placeholder=\"Type to filter...\" />\n          </label>\n        </div>\n        <div class=\"${this.theme.classOf('tableWrap', 'vt-table-wrap')}\" style=\"${this.options.virtualScroll.enabled ? `height:${this.options.virtualScroll.height}px;overflow:auto;` : ''}\">\n          <table class=\"${this.theme.classOf('table', 'vt-table')}\" role=\"grid\" aria-rowcount=\"-1\">\n            <thead></thead>\n            <tbody></tbody>\n          </table>\n        </div>\n        <div class=\"${this.theme.classOf('footer', 'vt-footer')} ${this.options.fixedFooter ? this.theme.classOf('fixedFooter', 'vt-fixed-footer') : ''}\">\n          <span class=\"${this.theme.classOf('info', 'vt-info')}\"></span>\n          <div class=\"${this.theme.classOf('paginationGroup', 'vt-pagination-group')}\">\n            <button class=\"${this.theme.classOf('firstButton', 'vt-page-btn vt-first')}\" type=\"button\">${this.options.labels.first}</button>\n            <button class=\"${this.theme.classOf('prevButton', 'vt-page-btn vt-prev')}\" type=\"button\">${this.options.labels.prev}</button>\n            <button class=\"${this.theme.classOf('nextButton', 'vt-page-btn vt-next')}\" type=\"button\">${this.options.labels.next}</button>\n            <button class=\"${this.theme.classOf('lastButton', 'vt-page-btn vt-last')}\" type=\"button\">${this.options.labels.last}</button>\n          </div>\n        </div>\n      </div>\n    `;\n\n    const refs = {\n      search: this.root.querySelector('.vt-search'),\n      pageSize: this.root.querySelector('.vt-size'),\n      tableWrap: this.root.querySelector('.vt-table-wrap'),\n      table: this.root.querySelector('.vt-table'),\n      thead: this.root.querySelector('thead'),\n      tbody: this.root.querySelector('tbody'),\n      info: this.root.querySelector('.vt-info'),\n      first: this.root.querySelector('.vt-first'),\n      prev: this.root.querySelector('.vt-prev'),\n      next: this.root.querySelector('.vt-next'),\n      last: this.root.querySelector('.vt-last')\n    };\n\n    refs.pageSize.innerHTML = this.options.pageSizeOptions\n      .map((size) => `<option value=\"${size}\">${size}</option>`)\n      .join('');\n    refs.pageSize.value = String(this.options.pageSize);\n\n    if (!this.options.searchable) {\n      refs.search.closest('.vt-search-wrap').style.display = 'none';\n    }\n\n    if (!this.options.pagination) {\n      this.root.querySelector('.vt-footer').style.display = 'none';\n    }\n\n    return refs;\n  }\n}\n", "/**\n * Renders table header with sort and filter controls.\n */\nexport class HeaderRenderer {\n  /**\n   * Creates a header renderer instance.\n   *\n   * @param {{ options: Record<string, any>, theme: import('../themes/theme-manager.js').ThemeManager }} config\n   */\n  constructor({ options, theme }) {\n    /** @type {Record<string, any>} */\n    this.options = options;\n    /** @type {import('../themes/theme-manager.js').ThemeManager} */\n    this.theme = theme;\n  }\n\n  /**\n   * Renders header rows.\n   *\n   * @param {HTMLTableSectionElement} thead\n   * @param {{ key: string, label: string, sortable?: boolean, filterable?: boolean }[]} columns\n   * @param {{ key: string, direction: 'asc'|'desc' }[]} sortState\n   * @param {Record<string, string>} columnFilters\n   * @param {(cell: HTMLElement, visualIndex: number) => void} applyFixedColumn\n   * @param {Record<string, number>} columnWidths\n   * @returns {void}\n   */\n  render(thead, columns, sortState, columnFilters, applyFixedColumn, columnWidths) {\n    const headRows = [];\n    const sortRow = document.createElement('tr');\n    sortRow.setAttribute('role', 'row');\n\n    if (this.options.expandableRows) {\n      const expandHeader = document.createElement('th');\n      expandHeader.className = this.theme.classOf('headerCell', 'vt-header-cell');\n      sortRow.appendChild(expandHeader);\n    }\n\n    columns.forEach((column, index) => {\n      const th = document.createElement('th');\n      th.className = this.theme.classOf('headerCell', 'vt-header-cell');\n      th.dataset.key = column.key;\n      th.draggable = Boolean(this.options.columnReorder);\n      th.tabIndex = 0;\n      th.setAttribute('role', 'columnheader');\n      applyFixedColumn(th, index + (this.options.expandableRows ? 1 : 0));\n\n      if (columnWidths[column.key]) {\n        th.style.width = `${columnWidths[column.key]}px`;\n      }\n\n      const button = document.createElement('button');\n      button.type = 'button';\n      button.className = this.theme.classOf('sortTrigger', 'vt-sort-trigger');\n      button.dataset.key = column.key;\n\n      const sortIndex = sortState.findIndex((item) => item.key === column.key);\n      const sortMeta = sortIndex >= 0 ? sortState[sortIndex] : null;\n      const marker = sortMeta\n        ? sortMeta.direction === 'asc'\n          ? ` \u25B2${sortState.length > 1 ? ` ${sortIndex + 1}` : ''}`\n          : ` \u25BC${sortState.length > 1 ? ` ${sortIndex + 1}` : ''}`\n        : '';\n\n      button.textContent = `${column.label}${marker}`;\n      button.disabled = column.sortable === false || !this.options.sortable;\n      th.setAttribute(\n        'aria-sort',\n        sortMeta ? (sortMeta.direction === 'asc' ? 'ascending' : 'descending') : 'none'\n      );\n      th.appendChild(button);\n\n      if (this.options.columnResize) {\n        const resizeHandle = document.createElement('span');\n        resizeHandle.className = this.theme.classOf('resizeHandle', 'vt-resize-handle');\n        resizeHandle.dataset.key = column.key;\n        resizeHandle.tabIndex = 0;\n        resizeHandle.setAttribute('role', 'separator');\n        resizeHandle.setAttribute('aria-orientation', 'vertical');\n        th.appendChild(resizeHandle);\n      }\n\n      sortRow.appendChild(th);\n    });\n\n    if (this.options.rowActions.length) {\n      const actionTh = document.createElement('th');\n      actionTh.textContent = this.options.labels.actions;\n      actionTh.className = this.theme.classOf('actionHeader', 'vt-actions-header');\n      sortRow.appendChild(actionTh);\n    }\n\n    headRows.push(sortRow);\n\n    if (this.options.columnFilters) {\n      const filterRow = document.createElement('tr');\n      filterRow.className = this.theme.classOf('filterRow', 'vt-filter-row');\n      filterRow.setAttribute('role', 'row');\n\n      if (this.options.expandableRows) {\n        const expandFilterHeader = document.createElement('th');\n        expandFilterHeader.className = this.theme.classOf('filterHeaderCell', 'vt-filter-header-cell');\n        filterRow.appendChild(expandFilterHeader);\n      }\n\n      columns.forEach((column, index) => {\n        const th = document.createElement('th');\n        th.className = this.theme.classOf('filterHeaderCell', 'vt-filter-header-cell');\n        applyFixedColumn(th, index + (this.options.expandableRows ? 1 : 0));\n        if (column.filterable === false) {\n          filterRow.appendChild(th);\n          return;\n        }\n\n        const input = document.createElement('input');\n        input.className = this.theme.classOf('columnFilter', 'vt-column-filter');\n        input.placeholder = `${this.options.labels.filter} ${column.label}`;\n        input.value = columnFilters[column.key] || '';\n        input.dataset.key = column.key;\n        th.appendChild(input);\n        filterRow.appendChild(th);\n      });\n\n      if (this.options.rowActions.length) {\n        filterRow.appendChild(document.createElement('th'));\n      }\n\n      headRows.push(filterRow);\n    }\n\n    thead.innerHTML = '';\n    headRows.forEach((row) => {\n      thead.appendChild(row);\n    });\n\n    if (this.options.fixedHeader) {\n      appendClassNames(thead, this.theme.classOf('fixedHeader', 'vt-fixed-header'));\n    }\n  }\n}\n\n/**\n * Appends one or more class tokens to an element.\n *\n * @param {HTMLElement} element\n * @param {string} classNames\n * @returns {void}\n */\nfunction appendClassNames(element, classNames) {\n  classNames\n    .split(/\\s+/)\n    .filter(Boolean)\n    .forEach((name) => {\n      element.classList.add(name);\n    });\n}\n", "/**\n * Renders table body rows, expansion rows, and editable cell state.\n */\nexport class BodyRenderer {\n  /**\n   * Creates a body renderer instance.\n   *\n   * @param {{ options: Record<string, any>, hooks: Record<string, Function>, theme: import('../themes/theme-manager.js').ThemeManager }} config\n   */\n  constructor({ options, hooks, theme }) {\n    /** @type {Record<string, any>} */\n    this.options = options;\n    /** @type {Record<string, Function>} */\n    this.hooks = hooks;\n    /** @type {import('../themes/theme-manager.js').ThemeManager} */\n    this.theme = theme;\n  }\n\n  /**\n   * Renders visible table body content.\n   *\n   * @param {HTMLTableSectionElement} tbody\n   * @param {{ key: string, render?: (value: any, row: Record<string, any>) => string, editable?: boolean }[]} columns\n   * @param {Record<string, any>[]} rows\n   * @param {{ expandedRowIds: Set<string>, getRowId: (row: Record<string, any>, index: number) => string, expandRow: ((row: Record<string, any>) => string) | null, editableRows: boolean, editableColumns: Record<string, boolean>, columnWidths: Record<string, number>, virtualization: { enabled: boolean, start: number, end: number, rowHeight: number } }} meta\n   * @param {(cell: HTMLElement, visualIndex: number) => void} applyFixedColumn\n   * @returns {void}\n   */\n  render(tbody, columns, rows, meta, applyFixedColumn) {\n    tbody.innerHTML = '';\n\n    if (!rows.length) {\n      const tr = document.createElement('tr');\n      tr.setAttribute('role', 'row');\n      const td = document.createElement('td');\n      td.setAttribute('role', 'gridcell');\n      td.colSpan = columns.length + (this.options.expandableRows ? 1 : 0) + (this.options.rowActions.length ? 1 : 0);\n      td.className = this.theme.classOf('emptyCell', 'vt-empty');\n      td.textContent = this.options.labels.empty;\n      tr.appendChild(td);\n      tbody.appendChild(tr);\n      return;\n    }\n\n    const renderSlice = meta.virtualization.enabled\n      ? rows.slice(meta.virtualization.start, meta.virtualization.end)\n      : rows;\n\n    if (meta.virtualization.enabled && meta.virtualization.start > 0) {\n      const topSpacer = document.createElement('tr');\n      topSpacer.className = 'vt-virtual-top';\n      const topCell = document.createElement('td');\n      topCell.colSpan = columns.length + (this.options.expandableRows ? 1 : 0) + (this.options.rowActions.length ? 1 : 0);\n      topCell.style.height = `${meta.virtualization.start * meta.virtualization.rowHeight}px`;\n      topCell.style.padding = '0';\n      topCell.style.border = 'none';\n      topSpacer.appendChild(topCell);\n      tbody.appendChild(topSpacer);\n    }\n\n    renderSlice.forEach((row, localIndex) => {\n      const index = meta.virtualization.enabled ? meta.virtualization.start + localIndex : localIndex;\n      const rowId = meta.getRowId(row, index);\n      const tr = document.createElement('tr');\n      tr.className = this.theme.classOf('bodyRow', 'vt-row');\n      tr.dataset.rowId = rowId;\n      tr.setAttribute('role', 'row');\n\n      if (this.options.fixedTopRows && index < this.options.fixedTopRows) {\n        appendClassNames(tr, this.theme.classOf('fixedTopRow', 'vt-fixed-top-row'));\n      }\n\n      if (this.options.expandableRows) {\n        const expandTd = document.createElement('td');\n        expandTd.className = this.theme.classOf('expandCell', 'vt-expand-cell');\n        applyFixedColumn(expandTd, 0);\n\n        const expandButton = document.createElement('button');\n        expandButton.type = 'button';\n        expandButton.className = this.theme.classOf('expandTrigger', 'vt-expand-trigger');\n        expandButton.dataset.rowId = rowId;\n        expandButton.textContent = meta.expandedRowIds.has(rowId) ? '\u2212' : '+';\n        expandButton.setAttribute('aria-expanded', String(meta.expandedRowIds.has(rowId)));\n        expandTd.appendChild(expandButton);\n        tr.appendChild(expandTd);\n      }\n\n      columns.forEach((column, columnIndex) => {\n        const td = document.createElement('td');\n        td.className = this.theme.classOf('bodyCell', 'vt-cell');\n        td.setAttribute('role', 'gridcell');\n        td.dataset.key = column.key;\n        td.dataset.rowId = rowId;\n        applyFixedColumn(td, columnIndex + (this.options.expandableRows ? 1 : 0));\n\n        if (meta.columnWidths[column.key]) {\n          td.style.width = `${meta.columnWidths[column.key]}px`;\n        }\n\n        const raw = row[column.key];\n        td.innerHTML = column.render ? column.render(raw, row) : escapeHtml(String(raw ?? ''));\n\n        const isEditable = meta.editableRows && column.editable !== false && meta.editableColumns[column.key] !== false;\n        if (isEditable) {\n          appendClassNames(td, this.theme.classOf('editableCell', 'vt-cell-editable'));\n        }\n\n        tr.appendChild(td);\n      });\n\n      if (this.options.rowActions.length) {\n        const actionTd = document.createElement('td');\n        actionTd.className = this.theme.classOf('actionsCell', 'vt-actions-cell');\n        actionTd.setAttribute('role', 'gridcell');\n        this.options.rowActions.forEach((action) => {\n          const button = document.createElement('button');\n          button.type = 'button';\n          button.className = `${this.theme.classOf('actionButton', 'vt-action-btn')} ${action.className || ''}`.trim();\n          button.dataset.actionId = action.id;\n          button.dataset.rowId = rowId;\n          button.textContent = action.label;\n          actionTd.appendChild(button);\n        });\n        tr.appendChild(actionTd);\n      }\n\n      tbody.appendChild(tr);\n      this.hooks.afterRowRender?.({ row, element: tr });\n\n      if (this.options.expandableRows && meta.expandedRowIds.has(rowId) && meta.expandRow) {\n        const expanded = document.createElement('tr');\n        expanded.className = this.theme.classOf('expandRow', 'vt-expand-row');\n        const expandedCell = document.createElement('td');\n        expandedCell.colSpan = columns.length + 1 + (this.options.rowActions.length ? 1 : 0);\n        expandedCell.className = this.theme.classOf('expandContent', 'vt-expand-content');\n        expandedCell.innerHTML = meta.expandRow(row);\n        expanded.appendChild(expandedCell);\n        tbody.appendChild(expanded);\n      }\n    });\n\n    if (meta.virtualization.enabled && meta.virtualization.end < rows.length) {\n      const bottomSpacer = document.createElement('tr');\n      bottomSpacer.className = 'vt-virtual-bottom';\n      const bottomCell = document.createElement('td');\n      bottomCell.colSpan = columns.length + (this.options.expandableRows ? 1 : 0) + (this.options.rowActions.length ? 1 : 0);\n      bottomCell.style.height = `${(rows.length - meta.virtualization.end) * meta.virtualization.rowHeight}px`;\n      bottomCell.style.padding = '0';\n      bottomCell.style.border = 'none';\n      bottomSpacer.appendChild(bottomCell);\n      tbody.appendChild(bottomSpacer);\n    }\n  }\n}\n\n/**\n * Escapes HTML-sensitive characters.\n *\n * @param {string} value\n * @returns {string}\n */\nfunction escapeHtml(value) {\n  return value\n    .replaceAll('&', '&amp;')\n    .replaceAll('<', '&lt;')\n    .replaceAll('>', '&gt;')\n    .replaceAll('\"', '&quot;')\n    .replaceAll(\"'\", '&#039;');\n}\n\n/**\n * Appends one or more class tokens to an element.\n *\n * @param {HTMLElement} element\n * @param {string} classNames\n * @returns {void}\n */\nfunction appendClassNames(element, classNames) {\n  classNames\n    .split(/\\s+/)\n    .filter(Boolean)\n    .forEach((name) => {\n      element.classList.add(name);\n    });\n}\n", "/**\n * Renders footer pagination summary and control state.\n */\nexport class FooterRenderer {\n  /**\n   * Creates a footer renderer instance.\n   *\n   * @param {{ options: Record<string, any> }} config\n   */\n  constructor({ options }) {\n    /** @type {Record<string, any>} */\n    this.options = options;\n  }\n\n  /**\n   * Renders footer state.\n   *\n   * @param {{ info: HTMLElement, first: HTMLButtonElement, prev: HTMLButtonElement, next: HTMLButtonElement, last: HTMLButtonElement }} refs\n   * @param {{ page: number, totalPages: number, totalRows: number, loading?: boolean }} details\n   * @returns {void}\n   */\n  render(refs, { page, totalPages, totalRows, loading }) {\n    refs.info.textContent = loading\n      ? this.options.labels.loading\n      : this.options.labels.pageInfo({ page, totalPages, totalRows });\n    refs.first.disabled = Boolean(loading) || page <= 1;\n    refs.prev.disabled = Boolean(loading) || page <= 1;\n    refs.next.disabled = Boolean(loading) || page >= totalPages;\n    refs.last.disabled = Boolean(loading) || page >= totalPages;\n  }\n}\n", "/**\n * Resolves theme class names from semantic keys.\n */\nexport class ThemeManager {\n  /**\n   * Creates a theme manager instance.\n   *\n   * @param {Record<string, string>} classes\n   */\n  constructor(classes = {}) {\n    /** @type {Record<string, string>} */\n    this.classes = classes;\n  }\n\n  /**\n   * Replaces stored theme classes.\n   *\n   * @param {Record<string, string>} classes\n   * @returns {void}\n   */\n  setClasses(classes) {\n    this.classes = classes || {};\n  }\n\n  /**\n   * Returns composed class names for a semantic key.\n   *\n   * @param {string} key\n   * @param {string} base\n   * @returns {string}\n   */\n  classOf(key, base) {\n    const extra = this.classes?.[key];\n    return extra ? `${base} ${extra}` : base;\n  }\n}\n", "import { ShellRenderer } from './renderers/shell-renderer.js';\nimport { HeaderRenderer } from './renderers/header-renderer.js';\nimport { BodyRenderer } from './renderers/body-renderer.js';\nimport { FooterRenderer } from './renderers/footer-renderer.js';\nimport { ThemeManager } from './themes/theme-manager.js';\n\n/**\n * Coordinates specialized renderers for shell, header, body, and footer.\n */\nexport class Renderer {\n  /**\n   * Creates a renderer instance.\n   *\n   * @param {{ root: HTMLElement, options: Record<string, any>, hooks: Record<string, Function> }} config\n   */\n  constructor({ root, options, hooks }) {\n    /** @type {HTMLElement} */\n    this.root = root;\n    /** @type {Record<string, any>} */\n    this.options = options;\n    /** @type {Record<string, Function>} */\n    this.hooks = hooks;\n    /** @type {Record<string, HTMLElement>} */\n    this.refs = {};\n\n    /** @type {ThemeManager} */\n    this.theme = new ThemeManager(this.options.themeClasses);\n    /** @type {ShellRenderer} */\n    this.shellRenderer = new ShellRenderer({ root: this.root, options: this.options, theme: this.theme });\n    /** @type {HeaderRenderer} */\n    this.headerRenderer = new HeaderRenderer({ options: this.options, theme: this.theme });\n    /** @type {BodyRenderer} */\n    this.bodyRenderer = new BodyRenderer({ options: this.options, hooks: this.hooks, theme: this.theme });\n    /** @type {FooterRenderer} */\n    this.footerRenderer = new FooterRenderer({ options: this.options });\n  }\n\n  /**\n   * Updates renderer options.\n   *\n   * @param {Record<string, any>} options\n   * @returns {void}\n   */\n  setOptions(options) {\n    this.options = options;\n    this.theme.setClasses(this.options.themeClasses);\n    this.shellRenderer.options = this.options;\n    this.headerRenderer.options = this.options;\n    this.bodyRenderer.options = this.options;\n    this.footerRenderer.options = this.options;\n  }\n\n  /**\n   * Mounts the base table shell.\n   *\n   * @returns {void}\n   */\n  mount() {\n    this.refs = this.shellRenderer.mount();\n  }\n\n  /**\n   * Renders header content.\n   *\n   * @param {{ key: string, label: string, sortable?: boolean, filterable?: boolean }[]} columns\n   * @param {{ key: string, direction: 'asc'|'desc' }[]} sortState\n   * @param {Record<string, string>} columnFilters\n   * @param {Record<string, number>} columnWidths\n   * @returns {void}\n   */\n  renderHeader(columns, sortState, columnFilters, columnWidths) {\n    this.headerRenderer.render(\n      this.refs.thead,\n      columns,\n      sortState,\n      columnFilters,\n      (cell, visualIndex) => this.applyFixedColumn(cell, visualIndex, columns, columnWidths),\n      columnWidths\n    );\n  }\n\n  /**\n   * Renders body content.\n   *\n   * @param {{ key: string, render?: (value: any, row: Record<string, any>) => string, editable?: boolean }[]} columns\n   * @param {Record<string, any>[]} rows\n   * @param {{ expandedRowIds: Set<string>, getRowId: (row: Record<string, any>, index: number) => string, expandRow: ((row: Record<string, any>) => string) | null, editableRows: boolean, editableColumns: Record<string, boolean>, columnWidths: Record<string, number>, virtualization: { enabled: boolean, start: number, end: number, rowHeight: number } }} meta\n   * @returns {void}\n   */\n  renderBody(columns, rows, meta) {\n    this.bodyRenderer.render(\n      this.refs.tbody,\n      columns,\n      rows,\n      meta,\n      (cell, visualIndex) => this.applyFixedColumn(cell, visualIndex, columns, meta.columnWidths)\n    );\n  }\n\n  /**\n   * Renders footer content.\n   *\n   * @param {{ page: number, totalPages: number, totalRows: number, loading?: boolean }} details\n   * @returns {void}\n   */\n  renderFooter(details) {\n    this.footerRenderer.render(\n      {\n        info: this.refs.info,\n        first: this.refs.first,\n        prev: this.refs.prev,\n        next: this.refs.next,\n        last: this.refs.last\n      },\n      details\n    );\n  }\n\n  /**\n   * Applies sticky positioning for fixed columns.\n   *\n   * @param {HTMLElement} cell\n   * @param {number} visualIndex\n   * @param {{ key: string }[]} columns\n   * @param {Record<string, number>} columnWidths\n   * @returns {void}\n   */\n  applyFixedColumn(cell, visualIndex, columns, columnWidths) {\n    if (!this.options.fixedColumns || visualIndex >= this.options.fixedColumns) {\n      return;\n    }\n\n    let left = 0;\n    for (let i = 0; i < visualIndex; i += 1) {\n      const key = columns[i]?.key;\n      left += key && columnWidths[key] ? columnWidths[key] : 180;\n    }\n\n    cell.style.position = 'sticky';\n    cell.style.left = `${left}px`;\n    cell.style.zIndex = '2';\n    appendClassNames(cell, this.theme.classOf('fixedColumn', 'vt-fixed-column'));\n  }\n}\n\n/**\n * Appends one or more class tokens to an element.\n *\n * @param {HTMLElement} element\n * @param {string} classNames\n * @returns {void}\n */\nfunction appendClassNames(element, classNames) {\n  classNames\n    .split(/\\s+/)\n    .filter(Boolean)\n    .forEach((name) => {\n      element.classList.add(name);\n    });\n}\n", "/**\n * Executes filter/search/sort projections across worker shards.\n */\nexport class ProjectionWorkerPool {\n  /**\n   * Creates a worker pool instance.\n   *\n   * @param {{ size: number, timeoutMs?: number, retries?: number }} config\n   */\n  constructor({ size, timeoutMs, retries }) {\n    /** @type {number} */\n    this.size = Math.max(1, Number(size || 1));\n    /** @type {{ worker: Worker }[]} */\n    this.workers = [];\n    /** @type {Map<number, { resolve: (value: any) => void, reject: (reason: any) => void }>} */\n    this.pending = new Map();\n    /** @type {number} */\n    this.nextId = 1;\n    /** @type {number} */\n    this.timeoutMs = Math.max(50, Number(timeoutMs || 4000));\n    /** @type {number} */\n    this.retries = Math.max(0, Math.floor(Number(retries || 1)));\n    /** @type {Record<string, any>[]} */\n    this.rows = [];\n\n    for (let i = 0; i < this.size; i += 1) {\n      this.workers.push({ worker: this.createWorker() });\n    }\n  }\n\n  /**\n   * Terminates all worker instances.\n   *\n   * @returns {void}\n   */\n  destroy() {\n    for (const slot of this.workers) {\n      slot.worker.terminate();\n    }\n    this.workers = [];\n    this.pending.clear();\n  }\n\n  /**\n   * Distributes rows across workers.\n   *\n   * @param {Record<string, any>[]} rows\n   * @returns {Promise<void>}\n   */\n  setRows(rows) {\n    const data = Array.isArray(rows) ? rows : [];\n    this.rows = data;\n    const shardSize = Math.ceil((data.length || 1) / this.workers.length);\n\n    return Promise.all(\n      this.workers.map((slot, index) => {\n        const start = index * shardSize;\n        const end = Math.min(start + shardSize, data.length);\n        return this.runTask(slot.worker, {\n          type: 'setRows',\n          rows: data.slice(start, end),\n          offset: start\n        }).then(() => {});\n      })\n    ).then(() => {});\n  }\n\n  /**\n   * Computes filtered/sorted row indices using worker shards.\n   *\n   * @param {{ keys: string[], searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[] }} query\n   * @returns {Promise<number[]>}\n   */\n  project(query) {\n    return Promise.all(\n      this.workers.map((slot) =>\n        this.runTask(slot.worker, {\n          type: 'project',\n          keys: query.keys,\n          searchTerm: query.searchTerm,\n          columnFilters: query.columnFilters,\n          sorts: query.sorts\n        })\n      )\n    ).then((chunks) => this.mergeChunks(chunks, query.sorts));\n  }\n\n  /**\n   * Creates one worker with inline projection logic.\n   *\n   * @returns {Worker}\n   */\n  createWorker() {\n    const worker = new Worker(getWorkerUrl());\n    worker.onmessage = (event) => {\n      const payload = event.data || {};\n      const pending = this.pending.get(payload.id);\n      if (!pending) return;\n\n      this.pending.delete(payload.id);\n      if (payload.error) {\n        pending.reject(new Error(payload.error));\n        return;\n      }\n      pending.resolve(payload.result);\n    };\n    worker.onerror = () => {\n      this.pending.forEach(({ reject }) => reject(new Error('projection worker failed')));\n      this.pending.clear();\n    };\n    return worker;\n  }\n\n  /**\n   * Runs one task on a worker and resolves by task id.\n   *\n   * @param {Worker} worker\n   * @param {Record<string, any>} payload\n   * @returns {Promise<any>}\n   */\n  runTask(worker, payload) {\n    return this.runTaskAttempt(worker, payload, this.retries);\n  }\n\n  /**\n   * Runs one task with retry and timeout guards.\n   *\n   * @param {Worker} worker\n   * @param {Record<string, any>} payload\n   * @param {number} retriesLeft\n   * @returns {Promise<any>}\n   */\n  runTaskAttempt(worker, payload, retriesLeft) {\n    const id = this.nextId;\n    this.nextId += 1;\n    let timeoutHandle;\n\n    return new Promise((resolve, reject) => {\n      const onReject = (error) => {\n        clearTimeout(timeoutHandle);\n        if (retriesLeft > 0) {\n          this.runTaskAttempt(worker, payload, retriesLeft - 1).then(resolve).catch(reject);\n          return;\n        }\n        reject(error);\n      };\n\n      const onResolve = (result) => {\n        clearTimeout(timeoutHandle);\n        resolve(result);\n      };\n\n      this.pending.set(id, { resolve: onResolve, reject: onReject });\n      timeoutHandle = setTimeout(() => {\n        this.pending.delete(id);\n        onReject(new Error(`projection worker timeout after ${this.timeoutMs}ms`));\n      }, this.timeoutMs);\n      worker.postMessage({\n        ...payload,\n        id\n      });\n    });\n  }\n\n  /**\n   * Merges per-shard result chunks into one globally ordered index array.\n   *\n   * @param {number[][]} chunks\n   * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n   * @returns {number[]}\n   */\n  mergeChunks(chunks, sorts) {\n    if (!Array.isArray(chunks) || !chunks.length) return [];\n    if (!Array.isArray(sorts) || !sorts.length) return chunks.flat();\n\n    const pointers = new Int32Array(chunks.length);\n    const output = [];\n\n    while (true) {\n      let bestChunk = -1;\n      let bestIndex = -1;\n\n      for (let i = 0; i < chunks.length; i += 1) {\n        const pointer = pointers[i];\n        const chunk = chunks[i];\n        if (pointer >= chunk.length) continue;\n\n        const currentIndex = chunk[pointer];\n        if (bestChunk === -1) {\n          bestChunk = i;\n          bestIndex = currentIndex;\n          continue;\n        }\n\n        const comparison = compareRowsBySorts(this.rows[currentIndex], this.rows[bestIndex], sorts);\n        if (comparison < 0 || (comparison === 0 && currentIndex < bestIndex)) {\n          bestChunk = i;\n          bestIndex = currentIndex;\n        }\n      }\n\n      if (bestChunk === -1) break;\n      output.push(bestIndex);\n      pointers[bestChunk] += 1;\n    }\n\n    return output;\n  }\n}\n\n/** @type {string | null} */\nlet cachedWorkerUrl = null;\n\n/**\n * Returns a blob URL for the projection worker implementation.\n *\n * @returns {string}\n */\nfunction getWorkerUrl() {\n  if (cachedWorkerUrl) return cachedWorkerUrl;\n\n  const source = `\n    const toText = (value) => String(value ?? '').toLowerCase();\n\n    let rows = [];\n    let offset = 0;\n\n    self.onmessage = (event) => {\n      const data = event.data || {};\n\n      try {\n        if (data.type === 'setRows') {\n          rows = Array.isArray(data.rows) ? data.rows : [];\n          offset = Number(data.offset || 0);\n          self.postMessage({ id: data.id, result: true });\n          return;\n        }\n\n        if (data.type === 'project') {\n          const keys = Array.isArray(data.keys) ? data.keys : [];\n          const searchTerm = toText(data.searchTerm || '');\n          const sorts = Array.isArray(data.sorts) ? data.sorts : [];\n          const filters = data.columnFilters && typeof data.columnFilters === 'object'\n            ? data.columnFilters\n            : {};\n          const filterEntries = Object.entries(filters);\n          const output = [];\n\n          for (let i = 0; i < rows.length; i += 1) {\n            const row = rows[i];\n            let matchesFilters = true;\n\n            for (const [key, term] of filterEntries) {\n              if (!toText(row && row[key]).includes(toText(term))) {\n                matchesFilters = false;\n                break;\n              }\n            }\n            if (!matchesFilters) continue;\n\n            if (!searchTerm) {\n              output.push(offset + i);\n              continue;\n            }\n\n            let matchesSearch = false;\n            for (const key of keys) {\n              if (toText(row && row[key]).includes(searchTerm)) {\n                matchesSearch = true;\n                break;\n              }\n            }\n            if (matchesSearch) output.push(offset + i);\n          }\n\n          if (sorts.length > 0) {\n            output.sort((leftIndex, rightIndex) => {\n              const leftRow = rows[leftIndex - offset];\n              const rightRow = rows[rightIndex - offset];\n              for (const sort of sorts) {\n                const leftRaw = leftRow ? leftRow[sort.key] : null;\n                const rightRaw = rightRow ? rightRow[sort.key] : null;\n                const leftNum = Number(leftRaw);\n                const rightNum = Number(rightRaw);\n                const leftFinite = Number.isFinite(leftNum);\n                const rightFinite = Number.isFinite(rightNum);\n\n                let cmp = 0;\n                if (leftFinite && rightFinite) {\n                  cmp = leftNum - rightNum;\n                } else {\n                  const leftText = toText(leftRaw);\n                  const rightText = toText(rightRaw);\n                  if (leftText < rightText) cmp = -1;\n                  else if (leftText > rightText) cmp = 1;\n                }\n\n                if (cmp !== 0) return sort.direction === 'desc' ? -cmp : cmp;\n              }\n              return leftIndex - rightIndex;\n            });\n          }\n\n          self.postMessage({ id: data.id, result: output });\n          return;\n        }\n\n        self.postMessage({ id: data.id, result: null });\n      } catch (error) {\n        self.postMessage({ id: data.id, error: error && error.message ? error.message : 'worker error' });\n      }\n    };\n  `;\n\n  cachedWorkerUrl = URL.createObjectURL(new Blob([source], { type: 'application/javascript' }));\n  return cachedWorkerUrl;\n}\n\n/**\n * Compares two rows by sort definitions.\n *\n * @param {Record<string, any>} leftRow\n * @param {Record<string, any>} rightRow\n * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n * @returns {number}\n */\nfunction compareRowsBySorts(leftRow, rightRow, sorts) {\n  for (const sort of sorts) {\n    const leftRaw = leftRow?.[sort.key];\n    const rightRaw = rightRow?.[sort.key];\n    const leftNum = Number(leftRaw);\n    const rightNum = Number(rightRaw);\n    const leftFinite = Number.isFinite(leftNum);\n    const rightFinite = Number.isFinite(rightNum);\n\n    let comparison = 0;\n    if (leftFinite && rightFinite) {\n      comparison = leftNum - rightNum;\n    } else {\n      const leftText = String(leftRaw ?? '').toLowerCase();\n      const rightText = String(rightRaw ?? '').toLowerCase();\n      if (leftText < rightText) comparison = -1;\n      else if (leftText > rightText) comparison = 1;\n    }\n\n    if (comparison !== 0) {\n      return sort.direction === 'desc' ? -comparison : comparison;\n    }\n  }\n\n  return 0;\n}\n", "import { ProjectionWorkerPool } from './parallel/projection-worker-pool.js';\n\n/**\n * Stores and computes table state projections.\n */\nexport class StateStore {\n  /**\n   * Creates a state store.\n   *\n   * @param {{ rows: Record<string, any>[], pageSize: number, initialSort: { key: string, direction?: 'asc'|'desc' } | null, parallel?: { enabled?: boolean, threshold?: number, workers?: number|'auto', timeoutMs?: number, retries?: number } }} config\n   */\n  constructor({ rows, pageSize, initialSort, parallel }) {\n    /** @type {Record<string, any>[]} */\n    this.rows = rows;\n    /** @type {{ page: number, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[], columnOrder: string[], columnWidths: Record<string, number>, columnVisibility: Record<string, boolean> }} */\n    this.state = {\n      page: 1,\n      pageSize,\n      searchTerm: '',\n      columnFilters: {},\n      sorts: initialSort\n        ? [{ key: initialSort.key, direction: initialSort.direction || 'asc' }]\n        : [],\n      columnOrder: [],\n      columnWidths: {},\n      columnVisibility: {}\n    };\n\n    /** @type {number} */\n    this.rowsVersion = 0;\n    /** @type {number} */\n    this.revision = 0;\n    /** @type {{ rowsVersion: number, columnsKey: string, searchTerm: string, filtersKey: string, rows: Record<string, any>[] } | null} */\n    this.filterCache = null;\n    /** @type {{ revision: number, columnsKey: string, rows: Record<string, any>[] } | null} */\n    this.projectionCache = null;\n    /** @type {{ rowsVersion: number, columnsKey: string, rows: Record<string, any>[], rowIndex: WeakMap<Record<string, any>, number>, textByKey: Map<string, string[]>, numericByKey: Map<string, { values: Float64Array, flags: Uint8Array }>, hasAlphaByKey: Map<string, boolean> } | null} */\n    this.columnIndexCache = null;\n    const parallelWorkers = resolveParallelWorkers(parallel?.workers);\n    /** @type {{ enabled: boolean, threshold: number, workers: number, timeoutMs: number, retries: number }} */\n    this.parallel = {\n      enabled: parallel?.enabled !== false,\n      threshold: Math.max(1000, Number(parallel?.threshold ?? 20000)),\n      workers: parallelWorkers,\n      timeoutMs: Math.max(50, Number(parallel?.timeoutMs ?? 4000)),\n      retries: Math.max(0, Math.floor(Number(parallel?.retries ?? 1)))\n    };\n    /** @type {ProjectionWorkerPool | null} */\n    this.projectionWorkerPool = null;\n    /** @type {Promise<void>} */\n    this.projectionWorkerReady = Promise.resolve();\n\n    if (this.parallel.enabled && typeof Worker !== 'undefined') {\n      this.projectionWorkerPool = new ProjectionWorkerPool({\n        size: this.parallel.workers,\n        timeoutMs: this.parallel.timeoutMs,\n        retries: this.parallel.retries\n      });\n      this.projectionWorkerReady = this.projectionWorkerPool\n        .setRows(this.rows)\n        .catch(() => {\n          this.projectionWorkerPool?.destroy();\n          this.projectionWorkerPool = null;\n        });\n    }\n  }\n\n  /**\n   * Sets the full rows array.\n   *\n   * @param {Record<string, any>[]} rows\n   * @returns {void}\n   */\n  setRows(rows) {\n    this.rows = Array.isArray(rows) ? rows : [];\n    this.rowsVersion += 1;\n    this.invalidateFiltersAndProjection();\n    this.columnIndexCache = null;\n    this.syncWorkerRows();\n  }\n\n  /**\n   * Sets the global search term.\n   *\n   * @param {string} searchTerm\n   * @returns {void}\n   */\n  setSearchTerm(searchTerm) {\n    this.state.searchTerm = (searchTerm || '').toLowerCase().trim();\n    this.state.page = 1;\n    this.invalidateFiltersAndProjection();\n  }\n\n  /**\n   * Sets a per-column filter term.\n   *\n   * @param {string} key\n   * @param {string} value\n   * @returns {void}\n   */\n  setColumnFilter(key, value) {\n    const normalized = (value || '').toLowerCase().trim();\n    if (!normalized) {\n      delete this.state.columnFilters[key];\n    } else {\n      this.state.columnFilters[key] = normalized;\n    }\n    this.state.page = 1;\n    this.invalidateFiltersAndProjection();\n  }\n\n  /**\n   * Clears all active filters.\n   *\n   * @returns {void}\n   */\n  clearFilters() {\n    this.state.searchTerm = '';\n    this.state.columnFilters = {};\n    this.state.page = 1;\n    this.invalidateFiltersAndProjection();\n  }\n\n  /**\n   * Sets the active page index.\n   *\n   * @param {number} page\n   * @returns {void}\n   */\n  setPage(page) {\n    this.state.page = Math.max(1, page);\n  }\n\n  /**\n   * Sets the page size and resets pagination.\n   *\n   * @param {number} pageSize\n   * @returns {void}\n   */\n  setPageSize(pageSize) {\n    this.state.pageSize = pageSize;\n    this.state.page = 1;\n  }\n\n  /**\n   * Toggles column sort direction.\n   *\n   * @param {string} key\n   * @param {boolean} additive\n   * @param {number} maxSorts\n   * @returns {void}\n   */\n  toggleSort(key, additive, maxSorts) {\n    const existingIndex = this.state.sorts.findIndex((item) => item.key === key);\n\n    if (!additive) {\n      if (existingIndex === -1) {\n        this.state.sorts = [{ key, direction: 'asc' }];\n      } else {\n        const current = this.state.sorts[existingIndex];\n        this.state.sorts = [{ key, direction: current.direction === 'asc' ? 'desc' : 'asc' }];\n      }\n      this.invalidateProjection();\n      return;\n    }\n\n    if (existingIndex === -1) {\n      this.state.sorts.push({ key, direction: 'asc' });\n      if (this.state.sorts.length > maxSorts) {\n        this.state.sorts.shift();\n      }\n      this.invalidateProjection();\n      return;\n    }\n\n    const current = this.state.sorts[existingIndex];\n    this.state.sorts[existingIndex] = {\n      key,\n      direction: current.direction === 'asc' ? 'desc' : 'asc'\n    };\n    this.invalidateProjection();\n  }\n\n  /**\n   * Sets absolute sort state.\n   *\n   * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n   * @returns {void}\n   */\n  setSorts(sorts) {\n    this.state.sorts = Array.isArray(sorts) ? sorts : [];\n    this.state.page = 1;\n    this.invalidateProjection();\n  }\n\n  /**\n   * Clears active sorts.\n   *\n   * @returns {void}\n   */\n  clearSorts() {\n    this.state.sorts = [];\n    this.state.page = 1;\n    this.invalidateProjection();\n  }\n\n  /**\n   * Sets ordered column keys.\n   *\n   * @param {string[]} order\n   * @returns {void}\n   */\n  setColumnOrder(order) {\n    this.state.columnOrder = Array.isArray(order) ? [...order] : [];\n  }\n\n  /**\n   * Sets one column width in pixels.\n   *\n   * @param {string} key\n   * @param {number} width\n   * @returns {void}\n   */\n  setColumnWidth(key, width) {\n    const normalized = Math.max(60, Math.round(width || 0));\n    this.state.columnWidths[key] = normalized;\n  }\n\n  /**\n   * Sets column visibility by key.\n   *\n   * @param {string} key\n   * @param {boolean} visible\n   * @returns {void}\n   */\n  setColumnVisibility(key, visible) {\n    this.state.columnVisibility[key] = Boolean(visible);\n  }\n\n  /**\n   * Applies a state payload.\n   *\n   * @param {Partial<{ page: number, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[], columnOrder: string[], columnWidths: Record<string, number>, columnVisibility: Record<string, boolean> }>} payload\n   * @returns {void}\n   */\n  setState(payload) {\n    if (!payload) return;\n    let affectsProjection = false;\n    let affectsFilters = false;\n    if (typeof payload.page === 'number') this.state.page = Math.max(1, payload.page);\n    if (typeof payload.pageSize === 'number') this.state.pageSize = payload.pageSize;\n    if (typeof payload.searchTerm === 'string') {\n      this.state.searchTerm = payload.searchTerm;\n      affectsProjection = true;\n      affectsFilters = true;\n    }\n    if (payload.columnFilters && typeof payload.columnFilters === 'object') {\n      this.state.columnFilters = { ...payload.columnFilters };\n      affectsProjection = true;\n      affectsFilters = true;\n    }\n    if (Array.isArray(payload.sorts)) {\n      this.state.sorts = [...payload.sorts];\n      affectsProjection = true;\n    }\n    if (Array.isArray(payload.columnOrder)) this.state.columnOrder = [...payload.columnOrder];\n    if (payload.columnWidths && typeof payload.columnWidths === 'object') {\n      this.state.columnWidths = { ...payload.columnWidths };\n    }\n    if (payload.columnVisibility && typeof payload.columnVisibility === 'object') {\n      this.state.columnVisibility = { ...payload.columnVisibility };\n    }\n    if (affectsFilters) {\n      this.invalidateFiltersAndProjection();\n    } else if (affectsProjection) {\n      this.invalidateProjection();\n    }\n  }\n\n  /**\n   * Returns serializable state.\n   *\n   * @returns {{ page: number, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[], columnOrder: string[], columnWidths: Record<string, number>, columnVisibility: Record<string, boolean> }}\n   */\n  getState() {\n    return {\n      page: this.state.page,\n      pageSize: this.state.pageSize,\n      searchTerm: this.state.searchTerm,\n      columnFilters: { ...this.state.columnFilters },\n      sorts: [...this.state.sorts],\n      columnOrder: [...this.state.columnOrder],\n      columnWidths: { ...this.state.columnWidths },\n      columnVisibility: { ...this.state.columnVisibility }\n    };\n  }\n\n  /**\n   * Returns ordered columns based on current state.\n   *\n   * @param {{ key: string }[]} columns\n   * @returns {{ key: string }[]}\n   */\n  getOrderedColumns(columns) {\n    if (!this.state.columnOrder.length) return columns;\n\n    const map = new Map(columns.map((column) => [column.key, column]));\n    const ordered = this.state.columnOrder.map((key) => map.get(key)).filter(Boolean);\n    const selected = new Set(ordered.map((column) => column.key));\n    const rest = columns.filter((column) => !selected.has(column.key));\n    return [...ordered, ...rest];\n  }\n\n  /**\n   * Returns visible columns based on visibility map.\n   *\n   * @param {{ key: string }[]} columns\n   * @returns {{ key: string }[]}\n   */\n  getVisibleColumns(columns) {\n    return columns.filter((column) => this.state.columnVisibility[column.key] !== false);\n  }\n\n  /**\n   * Returns query payload for server-side fetches.\n   *\n   * @returns {{ page: number, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[] }}\n   */\n  getQuery() {\n    return {\n      page: this.state.page,\n      pageSize: this.state.pageSize,\n      searchTerm: this.state.searchTerm,\n      columnFilters: { ...this.state.columnFilters },\n      sorts: [...this.state.sorts]\n    };\n  }\n\n  /**\n   * Returns rows visible for the current state.\n   *\n   * @param {{ key: string }[]} columns\n   * @returns {{ rows: Record<string, any>[], totalRows: number, totalPages: number }}\n   */\n  getVisibleRows(columns) {\n    const sorted = this.getProjectedRows(columns);\n    const { page, pageSize } = this.state;\n    const start = (page - 1) * pageSize;\n    return {\n      rows: sorted.slice(start, start + pageSize),\n      totalRows: sorted.length,\n      totalPages: Math.max(1, Math.ceil(sorted.length / pageSize))\n    };\n  }\n\n  /**\n   * Returns rows visible for the current state, using worker projection when enabled.\n   *\n   * @param {{ key: string }[]} columns\n   * @returns {Promise<{ rows: Record<string, any>[], totalRows: number, totalPages: number }>}\n   */\n  getVisibleRowsAsync(columns) {\n    return this.getProjectedRowsAsync(columns).then((sorted) => {\n      const { page, pageSize } = this.state;\n      const start = (page - 1) * pageSize;\n      return {\n        rows: sorted.slice(start, start + pageSize),\n        totalRows: sorted.length,\n        totalPages: Math.max(1, Math.ceil(sorted.length / pageSize))\n      };\n    });\n  }\n\n  /**\n   * Filters rows using column-level filters.\n   *\n   * @param {Record<string, any>[]} rows\n   * @param {{ key: string }[]} columns\n   * @returns {Record<string, any>[]}\n   */\n  applyColumnFilters(rows, columns) {\n    const columnSet = new Set(columns.map((item) => item.key));\n    const activeFilters = Object.entries(this.state.columnFilters).filter(([key]) => columnSet.has(key));\n    if (!activeFilters.length) return rows;\n\n    if (rows === this.rows) {\n      const index = this.getColumnIndex(columns);\n      const filterColumns = activeFilters.map(([key, term]) => ({\n        term,\n        text: this.getIndexedText(index, key)\n      }));\n      const output = [];\n\n      for (let i = 0; i < rows.length; i += 1) {\n        let matches = true;\n        for (const filterColumn of filterColumns) {\n          if (!filterColumn.text[i].includes(filterColumn.term)) {\n            matches = false;\n            break;\n          }\n        }\n        if (matches) output.push(rows[i]);\n      }\n      return output;\n    }\n\n    const output = [];\n    for (const row of rows) {\n      let matches = true;\n      for (const [key, term] of activeFilters) {\n        if (!String(row?.[key] ?? '').toLowerCase().includes(term)) {\n          matches = false;\n          break;\n        }\n      }\n      if (matches) output.push(row);\n    }\n    return output;\n  }\n\n  /**\n   * Filters rows using a case-insensitive contains match.\n   *\n   * @param {Record<string, any>[]} rows\n   * @param {{ key: string }[]} columns\n   * @returns {Record<string, any>[]}\n   */\n  applySearch(rows, columns) {\n    if (!this.state.searchTerm) return rows;\n\n    const keys = columns.map((column) => column.key);\n\n    if (rows === this.rows) {\n      const index = this.getColumnIndex(columns);\n      const searchKeys = this.getSearchableKeys(index, keys, this.state.searchTerm);\n      const searchColumns = searchKeys.map((key) => this.getIndexedText(index, key));\n      const output = [];\n\n      for (let i = 0; i < rows.length; i += 1) {\n        let matches = false;\n        for (const searchColumn of searchColumns) {\n          if (searchColumn[i].includes(this.state.searchTerm)) {\n            matches = true;\n            break;\n          }\n        }\n        if (matches) output.push(rows[i]);\n      }\n      return output;\n    }\n\n    const output = [];\n    for (const row of rows) {\n      let matches = false;\n      for (const key of keys) {\n        if (String(row?.[key] ?? '').toLowerCase().includes(this.state.searchTerm)) {\n          matches = true;\n          break;\n        }\n      }\n      if (matches) output.push(row);\n    }\n    return output;\n  }\n\n  /**\n   * Sorts rows by the active sort configuration.\n   *\n   * @param {Record<string, any>[]} rows\n   * @param {{ key: string }[]} columns\n   * @returns {Record<string, any>[]}\n   */\n  applySort(rows, columns) {\n    return this.applySortWithCache(rows, columns);\n  }\n\n  /**\n   * Invalidates cached row projections.\n   *\n   * @returns {void}\n   */\n  invalidateProjection() {\n    this.revision += 1;\n    this.projectionCache = null;\n  }\n\n  /**\n   * Invalidates cached filtered and projected rows.\n   *\n   * @returns {void}\n   */\n  invalidateFiltersAndProjection() {\n    this.filterCache = null;\n    this.invalidateProjection();\n  }\n\n  /**\n   * Syncs worker shards with current source rows.\n   *\n   * @returns {void}\n   */\n  syncWorkerRows() {\n    if (!this.projectionWorkerPool) return;\n\n    this.projectionWorkerReady = this.projectionWorkerPool.setRows(this.rows).catch(() => {\n      this.projectionWorkerPool?.destroy();\n      this.projectionWorkerPool = null;\n    });\n  }\n\n  /**\n   * Returns whether current query should run in worker shards.\n   *\n   * @returns {boolean}\n   */\n  canUseWorkerProjection() {\n    if (!this.projectionWorkerPool) return false;\n    if (this.rows.length < this.parallel.threshold) return false;\n    const hasFilters = Boolean(this.state.searchTerm) || Boolean(Object.keys(this.state.columnFilters).length);\n    const hasSorts = Boolean(this.state.sorts.length);\n    if (!hasFilters && !hasSorts) return false;\n    return true;\n  }\n\n  /**\n   * Disposes worker resources.\n   *\n   * @returns {void}\n   */\n  destroy() {\n    this.projectionWorkerPool?.destroy();\n    this.projectionWorkerPool = null;\n  }\n\n  /**\n   * Returns sorted+filtered projection for current query state.\n   *\n   * @param {{ key: string }[]} columns\n   * @returns {Record<string, any>[]}\n   */\n  getProjectedRows(columns) {\n    const columnsKey = this.getColumnsKey(columns);\n    if (\n      this.projectionCache &&\n      this.projectionCache.revision === this.revision &&\n      this.projectionCache.columnsKey === columnsKey\n    ) {\n      return this.projectionCache.rows;\n    }\n\n    const filtered = this.getFilteredRows(columns, columnsKey);\n    const sorted = this.applySortWithCache(filtered, columns);\n    if (!this.state.searchTerm && !Object.keys(this.state.columnFilters).length && this.rows.length > 20000) {\n      const index = this.getColumnIndex(columns);\n      for (const column of columns) {\n        this.getIndexedText(index, column.key);\n        this.getIndexedNumeric(index, column.key);\n        this.hasAlphaValues(index, column.key);\n      }\n    }\n    this.projectionCache = {\n      revision: this.revision,\n      columnsKey,\n      rows: sorted\n    };\n    return sorted;\n  }\n\n  /**\n   * Returns sorted+filtered projection, optionally using worker projection.\n   *\n   * @param {{ key: string }[]} columns\n   * @returns {Promise<Record<string, any>[]>}\n   */\n  getProjectedRowsAsync(columns) {\n    const columnsKey = this.getColumnsKey(columns);\n    if (\n      this.projectionCache &&\n      this.projectionCache.revision === this.revision &&\n      this.projectionCache.columnsKey === columnsKey\n    ) {\n      return Promise.resolve(this.projectionCache.rows);\n    }\n\n    if (this.canUseWorkerProjection()) {\n      return this.getProjectedRowsFromWorkers(columns, columnsKey);\n    }\n\n    return this.getFilteredRowsWithWorkersAsync(columns, columnsKey).then((filtered) => {\n      const sorted = this.applySortWithCache(filtered, columns);\n      if (!this.state.searchTerm && !Object.keys(this.state.columnFilters).length && this.rows.length > 20000) {\n        const index = this.getColumnIndex(columns);\n        for (const column of columns) {\n          this.getIndexedText(index, column.key);\n          this.getIndexedNumeric(index, column.key);\n          this.hasAlphaValues(index, column.key);\n        }\n      }\n      this.projectionCache = {\n        revision: this.revision,\n        columnsKey,\n        rows: sorted\n      };\n      return sorted;\n    });\n  }\n\n  /**\n   * Returns projection rows computed by worker shards.\n   *\n   * @param {{ key: string }[]} columns\n   * @param {string} columnsKey\n   * @returns {Promise<Record<string, any>[]>}\n   */\n  getProjectedRowsFromWorkers(columns, columnsKey) {\n    const searchTerm = this.state.searchTerm;\n    const filtersKey = this.serializeActiveFilters(columns);\n\n    return this.projectionWorkerReady\n      .then(() =>\n        this.projectionWorkerPool.project({\n          keys: columns.map((column) => column.key),\n          searchTerm,\n          columnFilters: this.state.columnFilters,\n          sorts: this.state.sorts\n        })\n      )\n      .then((indices) => {\n        const rows = indices.map((index) => this.rows[index]).filter(Boolean);\n        this.filterCache = {\n          rowsVersion: this.rowsVersion,\n          columnsKey,\n          searchTerm,\n          filtersKey,\n          rows\n        };\n        this.projectionCache = {\n          revision: this.revision,\n          columnsKey,\n          rows\n        };\n        return rows;\n      })\n      .catch(() => {\n        this.projectionWorkerPool?.destroy();\n        this.projectionWorkerPool = null;\n        return Promise.resolve(this.getProjectedRows(columns));\n      });\n  }\n\n  /**\n   * Returns filtered rows for active filter/search state.\n   *\n   * @param {{ key: string }[]} columns\n   * @param {string} columnsKey\n   * @returns {Record<string, any>[]}\n   */\n  getFilteredRows(columns, columnsKey) {\n    const searchTerm = this.state.searchTerm;\n    const filtersKey = this.serializeActiveFilters(columns);\n    if (\n      this.filterCache &&\n      this.filterCache.rowsVersion === this.rowsVersion &&\n      this.filterCache.columnsKey === columnsKey &&\n      this.filterCache.searchTerm === searchTerm &&\n      this.filterCache.filtersKey === filtersKey\n    ) {\n      return this.filterCache.rows;\n    }\n\n    const rows = this.applyFiltersAndSearch(this.rows, columns);\n    this.filterCache = {\n      rowsVersion: this.rowsVersion,\n      columnsKey,\n      searchTerm,\n      filtersKey,\n      rows\n    };\n    return rows;\n  }\n\n  /**\n   * Returns filtered rows, using worker shards when configured.\n   *\n   * @param {{ key: string }[]} columns\n   * @param {string} columnsKey\n   * @returns {Promise<Record<string, any>[]>}\n   */\n  getFilteredRowsWithWorkersAsync(columns, columnsKey) {\n    const searchTerm = this.state.searchTerm;\n    const filtersKey = this.serializeActiveFilters(columns);\n    if (\n      this.filterCache &&\n      this.filterCache.rowsVersion === this.rowsVersion &&\n      this.filterCache.columnsKey === columnsKey &&\n      this.filterCache.searchTerm === searchTerm &&\n      this.filterCache.filtersKey === filtersKey\n    ) {\n      return Promise.resolve(this.filterCache.rows);\n    }\n\n    if (!this.canUseWorkerProjection()) {\n      const rows = this.applyFiltersAndSearch(this.rows, columns);\n      this.filterCache = {\n        rowsVersion: this.rowsVersion,\n        columnsKey,\n        searchTerm,\n        filtersKey,\n        rows\n      };\n      return Promise.resolve(rows);\n    }\n\n    return this.projectionWorkerReady\n      .then(() =>\n        this.projectionWorkerPool.project({\n          keys: columns.map((column) => column.key),\n          searchTerm,\n          columnFilters: this.state.columnFilters,\n          sorts: []\n        })\n      )\n      .then((indices) => {\n        const rows = indices.map((index) => this.rows[index]).filter(Boolean);\n        this.filterCache = {\n          rowsVersion: this.rowsVersion,\n          columnsKey,\n          searchTerm,\n          filtersKey,\n          rows\n        };\n        return rows;\n      })\n      .catch(() => {\n        this.projectionWorkerPool?.destroy();\n        this.projectionWorkerPool = null;\n\n        const rows = this.applyFiltersAndSearch(this.rows, columns);\n        this.filterCache = {\n          rowsVersion: this.rowsVersion,\n          columnsKey,\n          searchTerm,\n          filtersKey,\n          rows\n        };\n        return rows;\n      });\n  }\n\n  /**\n   * Applies column filters and global search in one pass.\n   *\n   * @param {Record<string, any>[]} rows\n   * @param {{ key: string }[]} columns\n   * @returns {Record<string, any>[]}\n   */\n  applyFiltersAndSearch(rows, columns) {\n    const keys = columns.map((column) => column.key);\n    const columnSet = new Set(keys);\n    const activeFilters = Object.entries(this.state.columnFilters).filter(([key]) => columnSet.has(key));\n    const searchTerm = this.state.searchTerm;\n\n    if (!activeFilters.length && !searchTerm) return rows;\n\n    if (rows === this.rows) {\n      const index = this.getColumnIndex(columns);\n      const filterColumns = activeFilters.map(([key, term]) => ({\n        term,\n        text: this.getIndexedText(index, key)\n      }));\n      const searchColumns = searchTerm\n        ? this.getSearchableKeys(index, keys, searchTerm).map((key) => this.getIndexedText(index, key))\n        : null;\n      const output = [];\n\n      for (let i = 0; i < rows.length; i += 1) {\n        let matchesFilters = true;\n        for (const filterColumn of filterColumns) {\n          if (!filterColumn.text[i].includes(filterColumn.term)) {\n            matchesFilters = false;\n            break;\n          }\n        }\n        if (!matchesFilters) continue;\n\n        if (!searchColumns) {\n          output.push(rows[i]);\n          continue;\n        }\n\n        let matchesSearch = false;\n        for (const searchColumn of searchColumns) {\n          if (searchColumn[i].includes(searchTerm)) {\n            matchesSearch = true;\n            break;\n          }\n        }\n        if (matchesSearch) output.push(rows[i]);\n      }\n      return output;\n    }\n\n    const output = [];\n    for (const row of rows) {\n      let matchesFilters = true;\n      for (const [key, term] of activeFilters) {\n        if (!String(row?.[key] ?? '').toLowerCase().includes(term)) {\n          matchesFilters = false;\n          break;\n        }\n      }\n      if (!matchesFilters) continue;\n\n      if (!searchTerm) {\n        output.push(row);\n        continue;\n      }\n\n      let matchesSearch = false;\n      for (const key of keys) {\n        if (String(row?.[key] ?? '').toLowerCase().includes(searchTerm)) {\n          matchesSearch = true;\n          break;\n        }\n      }\n      if (matchesSearch) output.push(row);\n    }\n    return output;\n  }\n\n  /**\n   * Applies sort rules using pre-normalized arrays and stable merge sort.\n   *\n   * @param {Record<string, any>[]} rows\n   * @param {{ key: string }[]} columns\n   * @returns {Record<string, any>[]}\n   */\n  applySortWithCache(rows, columns) {\n    if (!this.state.sorts.length) return rows;\n\n    const columnSet = new Set(columns.map((item) => item.key));\n    const sorts = this.state.sorts.filter((item) => columnSet.has(item.key));\n    if (!sorts.length) return rows;\n\n    const rowCount = rows.length;\n    const order = Array.from({ length: rowCount }).map((_, index) => index);\n    const index = this.getColumnIndex(columns);\n    const sourceIndexes = new Int32Array(rowCount);\n    let allIndexed = true;\n    for (let i = 0; i < rowCount; i += 1) {\n      const sourceIndex = index.rowIndex.get(rows[i]);\n      if (sourceIndex === undefined) {\n        allIndexed = false;\n        break;\n      }\n      sourceIndexes[i] = sourceIndex;\n    }\n\n    const descriptors = sorts.map((sort) => {\n      const text = new Array(rowCount);\n      const num = new Float64Array(rowCount);\n      const isNum = new Uint8Array(rowCount);\n      const indexedText = allIndexed ? this.getIndexedText(index, sort.key) : null;\n      const indexedNumeric = allIndexed ? this.getIndexedNumeric(index, sort.key) : null;\n\n      for (let i = 0; i < rowCount; i += 1) {\n        if (indexedText && indexedNumeric) {\n          const sourceIndex = sourceIndexes[i];\n          text[i] = indexedText[sourceIndex];\n          isNum[i] = indexedNumeric.flags[sourceIndex];\n          num[i] = indexedNumeric.values[sourceIndex];\n          continue;\n        }\n\n        const raw = rows[i]?.[sort.key];\n        const parsed = Number(raw);\n        text[i] = String(raw ?? '').toLowerCase();\n        if (Number.isFinite(parsed)) {\n          isNum[i] = 1;\n          num[i] = parsed;\n        }\n      }\n\n      return {\n        direction: sort.direction,\n        multiplier: sort.direction === 'desc' ? -1 : 1,\n        text,\n        num,\n        isNum\n      };\n    });\n\n    const comparator =\n      descriptors.length === 1\n        ? (leftIndex, rightIndex) => {\n            const descriptor = descriptors[0];\n            const bothNumeric = descriptor.isNum[leftIndex] && descriptor.isNum[rightIndex];\n            if (bothNumeric) {\n              const diff = descriptor.num[leftIndex] - descriptor.num[rightIndex];\n              if (diff !== 0) return diff * descriptor.multiplier;\n            } else {\n              const leftText = descriptor.text[leftIndex];\n              const rightText = descriptor.text[rightIndex];\n              if (leftText < rightText) return -1 * descriptor.multiplier;\n              if (leftText > rightText) return 1 * descriptor.multiplier;\n            }\n            return leftIndex - rightIndex;\n          }\n        : (leftIndex, rightIndex) => {\n            for (const descriptor of descriptors) {\n              const bothNumeric = descriptor.isNum[leftIndex] && descriptor.isNum[rightIndex];\n              if (bothNumeric) {\n                const diff = descriptor.num[leftIndex] - descriptor.num[rightIndex];\n                if (diff !== 0) return diff * descriptor.multiplier;\n                continue;\n              }\n              const leftText = descriptor.text[leftIndex];\n              const rightText = descriptor.text[rightIndex];\n              if (leftText < rightText) return -1 * descriptor.multiplier;\n              if (leftText > rightText) return 1 * descriptor.multiplier;\n            }\n            return leftIndex - rightIndex;\n          };\n\n    if (rowCount < 5000) {\n      mergeSort(order, comparator);\n    } else {\n      order.sort(comparator);\n    }\n\n    const output = new Array(rowCount);\n    for (let i = 0; i < rowCount; i += 1) {\n      output[i] = rows[order[i]];\n    }\n    return output;\n  }\n\n  /**\n   * Returns canonical key string for a column set.\n   *\n   * @param {{ key: string }[]} columns\n   * @returns {string}\n   */\n  getColumnsKey(columns) {\n    return columns.map((column) => column.key).join('|');\n  }\n\n  /**\n   * Serializes active filters for cache keying.\n   *\n   * @param {{ key: string }[]} columns\n   * @returns {string}\n   */\n  serializeActiveFilters(columns) {\n    const columnSet = new Set(columns.map((item) => item.key));\n    const active = Object.entries(this.state.columnFilters)\n      .filter(([key]) => columnSet.has(key))\n      .sort(([leftKey], [rightKey]) => compareText(leftKey, rightKey));\n    if (!active.length) return '';\n    return active.map(([key, value]) => `${key}:${value}`).join('|');\n  }\n\n  /**\n   * Returns normalized text index for current rows and columns.\n   *\n   * @param {{ key: string }[]} columns\n   * @returns {{ rowsVersion: number, columnsKey: string, rows: Record<string, any>[], rowIndex: WeakMap<Record<string, any>, number>, textByKey: Map<string, string[]>, numericByKey: Map<string, { values: Float64Array, flags: Uint8Array }>, hasAlphaByKey: Map<string, boolean> }}\n   */\n  getColumnIndex(columns) {\n    const columnsKey = this.getColumnsKey(columns);\n    if (\n      this.columnIndexCache &&\n      this.columnIndexCache.rowsVersion === this.rowsVersion &&\n      this.columnIndexCache.columnsKey === columnsKey &&\n      this.columnIndexCache.rows === this.rows\n    ) {\n      return this.columnIndexCache;\n    }\n\n    const rowIndex = new WeakMap();\n    for (let i = 0; i < this.rows.length; i += 1) {\n      rowIndex.set(this.rows[i], i);\n    }\n\n    this.columnIndexCache = {\n      rowsVersion: this.rowsVersion,\n      columnsKey,\n      rows: this.rows,\n      textByKey: new Map(),\n      rowIndex,\n      numericByKey: new Map(),\n      hasAlphaByKey: new Map()\n    };\n    return this.columnIndexCache;\n  }\n\n  /**\n   * Returns normalized text values for one indexed column.\n   *\n   * @param {{ rows: Record<string, any>[], textByKey: Map<string, string[]> }} index\n   * @param {string} key\n   * @returns {string[]}\n   */\n  getIndexedText(index, key) {\n    const cached = index.textByKey.get(key);\n    if (cached) return cached;\n\n    const values = new Array(index.rows.length);\n    for (let i = 0; i < index.rows.length; i += 1) {\n      values[i] = String(index.rows[i]?.[key] ?? '').toLowerCase();\n    }\n    index.textByKey.set(key, values);\n    return values;\n  }\n\n  /**\n   * Returns normalized numeric values and finite flags for one indexed column.\n   *\n   * @param {{ rows: Record<string, any>[], numericByKey: Map<string, { values: Float64Array, flags: Uint8Array }> }} index\n   * @param {string} key\n   * @returns {{ values: Float64Array, flags: Uint8Array }}\n   */\n  getIndexedNumeric(index, key) {\n    const cached = index.numericByKey.get(key);\n    if (cached) return cached;\n\n    const values = new Float64Array(index.rows.length);\n    const flags = new Uint8Array(index.rows.length);\n    for (let i = 0; i < index.rows.length; i += 1) {\n      const parsed = Number(index.rows[i]?.[key]);\n      if (Number.isFinite(parsed)) {\n        values[i] = parsed;\n        flags[i] = 1;\n      }\n    }\n\n    const next = { values, flags };\n    index.numericByKey.set(key, next);\n    return next;\n  }\n\n  /**\n   * Returns search keys optimized for the current term.\n   *\n   * @param {{ hasAlphaByKey: Map<string, boolean> }} index\n   * @param {string[]} keys\n   * @param {string} term\n   * @returns {string[]}\n   */\n  getSearchableKeys(index, keys, term) {\n    if (!HAS_ALPHA_RE.test(term)) return keys;\n\n    const filtered = keys.filter((key) => this.hasAlphaValues(index, key));\n    return filtered.length ? filtered : keys;\n  }\n\n  /**\n   * Returns whether a column can contain alphabetic characters.\n   *\n   * @param {{ hasAlphaByKey: Map<string, boolean> }} index\n   * @param {string} key\n   * @returns {boolean}\n   */\n  hasAlphaValues(index, key) {\n    const cached = index.hasAlphaByKey.get(key);\n    if (cached !== undefined) return cached;\n\n    const values = this.getIndexedText(index, key);\n    let hasAlpha = false;\n    for (let i = 0; i < values.length; i += 1) {\n      if (HAS_ALPHA_RE.test(values[i])) {\n        hasAlpha = true;\n        break;\n      }\n    }\n\n    index.hasAlphaByKey.set(key, hasAlpha);\n    return hasAlpha;\n  }\n\n}\n\n/** @type {RegExp} */\nconst HAS_ALPHA_RE = /[a-z]/;\n\n/**\n * Compares two lowercase text values.\n *\n * @param {string} left\n * @param {string} right\n * @returns {number}\n */\nfunction compareText(left, right) {\n  if (left < right) return -1;\n  if (left > right) return 1;\n  return 0;\n}\n\n/**\n * Performs stable merge sort on index arrays using a shared scratch buffer.\n *\n * @param {number[]} items\n * @param {(left: number, right: number) => number} compare\n * @returns {void}\n */\nfunction mergeSort(items, compare) {\n  const size = items.length;\n  if (size < 2) return;\n\n  const buffer = new Array(size);\n  let width = 1;\n\n  while (width < size) {\n    for (let start = 0; start < size; start += width * 2) {\n      const middle = Math.min(start + width, size);\n      const end = Math.min(start + width * 2, size);\n      let left = start;\n      let right = middle;\n      let write = start;\n\n      while (left < middle && right < end) {\n        if (compare(items[left], items[right]) <= 0) {\n          buffer[write] = items[left];\n          left += 1;\n        } else {\n          buffer[write] = items[right];\n          right += 1;\n        }\n        write += 1;\n      }\n\n      while (left < middle) {\n        buffer[write] = items[left];\n        left += 1;\n        write += 1;\n      }\n      while (right < end) {\n        buffer[write] = items[right];\n        right += 1;\n        write += 1;\n      }\n    }\n\n    for (let i = 0; i < size; i += 1) {\n      items[i] = buffer[i];\n    }\n    width *= 2;\n  }\n}\n\n/**\n * Resolves configured parallel worker count.\n *\n * @param {number | string | undefined} input\n * @returns {number}\n */\nfunction resolveParallelWorkers(input) {\n  if (typeof input === 'number' && Number.isFinite(input)) {\n    return Math.max(1, Math.floor(input));\n  }\n\n  if (input === 'auto' || input == null) {\n    const cores =\n      typeof navigator !== 'undefined' && Number.isFinite(navigator.hardwareConcurrency)\n        ? navigator.hardwareConcurrency\n        : 4;\n    return Math.max(2, Math.min(8, Math.floor(cores) - 1));\n  }\n\n  const numeric = Number(input);\n  if (Number.isFinite(numeric)) {\n    return Math.max(1, Math.floor(numeric));\n  }\n  return 4;\n}\n", "/**\n * Merges two plain objects recursively.\n *\n * @param {Record<string, any>} base\n * @param {Record<string, any>} extra\n * @returns {Record<string, any>}\n */\nexport function deepMerge(base, extra) {\n  const output = { ...base };\n\n  for (const key of Object.keys(extra || {})) {\n    const baseValue = output[key];\n    const extraValue = extra[key];\n\n    if (isObject(baseValue) && isObject(extraValue)) {\n      output[key] = deepMerge(baseValue, extraValue);\n    } else {\n      output[key] = extraValue;\n    }\n  }\n\n  return output;\n}\n\n/**\n * Checks whether a value is a non-array object.\n *\n * @param {unknown} value\n * @returns {boolean}\n */\nfunction isObject(value) {\n  return value !== null && typeof value === 'object' && !Array.isArray(value);\n}\n", "/**\n * Provides a minimal publish-subscribe event bus.\n */\nexport class EventEmitter {\n  /**\n   * Creates a new event emitter instance.\n   */\n  constructor() {\n    /** @type {Map<string, Function[]>} */\n    this.listeners = new Map();\n  }\n\n  /**\n   * Registers an event callback.\n   *\n   * @param {string} event\n   * @param {(payload: any) => void} callback\n   * @returns {() => void}\n   */\n  on(event, callback) {\n    const list = this.listeners.get(event) || [];\n    list.push(callback);\n    this.listeners.set(event, list);\n    return () => this.off(event, callback);\n  }\n\n  /**\n   * Removes an event callback.\n   *\n   * @param {string} event\n   * @param {(payload: any) => void} callback\n   * @returns {void}\n   */\n  off(event, callback) {\n    const list = this.listeners.get(event);\n    if (!list) return;\n    this.listeners.set(\n      event,\n      list.filter((item) => item !== callback)\n    );\n  }\n\n  /**\n   * Emits an event payload to registered listeners.\n   *\n   * @param {string} event\n   * @param {any} payload\n   * @returns {void}\n   */\n  emit(event, payload) {\n    const list = this.listeners.get(event);\n    if (!list) return;\n    for (const callback of list) callback(payload);\n  }\n}\n", "/**\n * Resolves client-side table view projections.\n */\nexport class ClientDataSource {\n  /**\n   * Creates a client data source instance.\n   *\n   * @param {{ store: import('../state-store.js').StateStore }} config\n   */\n  constructor({ store }) {\n    /** @type {import('../state-store.js').StateStore} */\n    this.store = store;\n  }\n\n  /**\n   * Resolves table view data.\n   *\n   * @param {{ columns: { key: string }[] }} context\n   * @returns {Promise<{ rows: Record<string, any>[], totalRows: number, totalPages: number }>}\n   */\n  getView({ columns }) {\n    if (\n      typeof this.store.getVisibleRowsAsync === 'function' &&\n      typeof this.store.canUseWorkerProjection === 'function' &&\n      this.store.canUseWorkerProjection()\n    ) {\n      return this.store.getVisibleRowsAsync(columns);\n    }\n    return Promise.resolve(this.store.getVisibleRows(columns));\n  }\n}\n", "/**\n * Resolves server-side table view projections.\n */\nexport class ServerDataSource {\n  /**\n   * Creates a server data source instance.\n   *\n   * @param {{ store: import('../state-store.js').StateStore, fetchData: Function | null, onLoadingChange: (loading: boolean) => void }} config\n   */\n  constructor({ store, fetchData, onLoadingChange }) {\n    /** @type {import('../state-store.js').StateStore} */\n    this.store = store;\n    /** @type {Function | null} */\n    this.fetchData = fetchData;\n    /** @type {(loading: boolean) => void} */\n    this.onLoadingChange = onLoadingChange;\n  }\n\n  /**\n   * Resolves table view data.\n   *\n   * @returns {Promise<{ rows: Record<string, any>[], totalRows: number, totalPages: number }>}\n   */\n  getView() {\n    if (typeof this.fetchData !== 'function') {\n      return Promise.reject(\n        new Error('VanillaTable serverSide mode requires options.fetchData(query).')\n      );\n    }\n\n    this.onLoadingChange(true);\n\n    const query = this.store.getQuery();\n    return Promise.resolve(this.fetchData(query))\n      .then((response) => {\n        const rows = Array.isArray(response?.rows) ? response.rows : [];\n        const totalRows = Number(response?.totalRows || rows.length);\n        this.store.setRows(rows);\n\n        return {\n          rows,\n          totalRows,\n          totalPages: Math.max(1, Math.ceil(totalRows / this.store.state.pageSize))\n        };\n      })\n      .finally(() => {\n        this.onLoadingChange(false);\n      });\n  }\n}\n", "import { ClientDataSource } from './client-data-source.js';\nimport { ServerDataSource } from './server-data-source.js';\n\n/**\n * Creates a data source strategy for current options.\n *\n * @param {{ options: Record<string, any>, store: import('../state-store.js').StateStore, onLoadingChange: (loading: boolean) => void }} config\n * @returns {ClientDataSource | ServerDataSource}\n */\nexport function createDataSource({ options, store, onLoadingChange }) {\n  if (options.serverSide) {\n    return new ServerDataSource({\n      store,\n      fetchData: options.fetchData,\n      onLoadingChange\n    });\n  }\n\n  return new ClientDataSource({ store });\n}\n", "/**\n * Synchronizes table state with URL and local storage.\n */\nexport class StateSync {\n  /**\n   * Creates state sync instance.\n   *\n   * @param {{ persistence: { enabled: boolean, storageKey: string | null }, urlSync: { enabled: boolean, param: string }, tableId: string }} config\n   */\n  constructor({ persistence, urlSync, tableId }) {\n    /** @type {{ enabled: boolean, storageKey: string | null }} */\n    this.persistence = persistence;\n    /** @type {{ enabled: boolean, param: string }} */\n    this.urlSync = urlSync;\n    /** @type {string} */\n    this.tableId = tableId;\n  }\n\n  /**\n   * Loads stored or URL state payload.\n   *\n   * @returns {Record<string, any>}\n   */\n  load() {\n    const fromUrl = this.loadFromUrl();\n    const fromStorage = this.loadFromStorage();\n    return {\n      ...fromStorage,\n      ...fromUrl\n    };\n  }\n\n  /**\n   * Persists state to configured sinks.\n   *\n   * @param {Record<string, any>} state\n   * @returns {void}\n   */\n  save(state) {\n    if (this.persistence.enabled) {\n      this.saveToStorage(state);\n    }\n\n    if (this.urlSync.enabled) {\n      this.saveToUrl(state);\n    }\n  }\n\n  /**\n   * Loads state from local storage.\n   *\n   * @returns {Record<string, any>}\n   */\n  loadFromStorage() {\n    if (!this.persistence.enabled || typeof window === 'undefined') return {};\n    const key = this.getStorageKey();\n\n    try {\n      const raw = window.localStorage.getItem(key);\n      if (!raw) return {};\n      const parsed = JSON.parse(raw);\n      return parsed && typeof parsed === 'object' ? parsed : {};\n    } catch {\n      return {};\n    }\n  }\n\n  /**\n   * Saves state to local storage.\n   *\n   * @param {Record<string, any>} state\n   * @returns {void}\n   */\n  saveToStorage(state) {\n    if (typeof window === 'undefined') return;\n\n    try {\n      window.localStorage.setItem(this.getStorageKey(), JSON.stringify(state));\n    } catch {\n      // Ignores storage write failures.\n    }\n  }\n\n  /**\n   * Loads state payload from URL param.\n   *\n   * @returns {Record<string, any>}\n   */\n  loadFromUrl() {\n    if (!this.urlSync.enabled || typeof window === 'undefined') return {};\n\n    try {\n      const params = new URLSearchParams(window.location.search);\n      const encoded = params.get(this.urlSync.param || 'vt');\n      if (!encoded) return {};\n      const json = decodeURIComponent(encoded);\n      const parsed = JSON.parse(json);\n      return parsed && typeof parsed === 'object' ? parsed : {};\n    } catch {\n      return {};\n    }\n  }\n\n  /**\n   * Saves state payload to URL param.\n   *\n   * @param {Record<string, any>} state\n   * @returns {void}\n   */\n  saveToUrl(state) {\n    if (typeof window === 'undefined') return;\n\n    try {\n      const params = new URLSearchParams(window.location.search);\n      params.set(this.urlSync.param || 'vt', encodeURIComponent(JSON.stringify(state)));\n      const next = `${window.location.pathname}?${params.toString()}${window.location.hash}`;\n      window.history.replaceState({}, '', next);\n    } catch {\n      // Ignores URL sync failures.\n    }\n  }\n\n  /**\n   * Returns storage key.\n   *\n   * @returns {string}\n   */\n  getStorageKey() {\n    return this.persistence.storageKey || `vanilla-tables:${this.tableId}`;\n  }\n}\n", "import { defaultOptions } from './default-options.js';\nimport { Renderer } from './renderer.js';\nimport { StateStore } from './state-store.js';\nimport { deepMerge } from '../utils/deep-merge.js';\nimport { EventEmitter } from '../utils/event-emitter.js';\nimport { createDataSource } from './data-sources/create-data-source.js';\nimport { StateSync } from './sync/state-sync.js';\n\n/**\n * Coordinates state, rendering, and plugin extensions.\n */\nexport class VanillaTable {\n  /**\n   * Creates a table instance.\n   *\n   * @param {HTMLElement} element\n   * @param {Record<string, any>[]} rows\n   * @param {Record<string, any>} [options]\n   */\n  constructor(element, rows, options = {}) {\n    if (!(element instanceof HTMLElement)) {\n      throw new Error('VanillaTable requires a valid HTMLElement as first argument.');\n    }\n\n    /** @type {HTMLElement} */\n    this.root = element;\n    /** @type {Record<string, any>[]} */\n    this.rows = Array.isArray(rows) ? rows : [];\n    /** @type {Record<string, any>} */\n    this.options = deepMerge(defaultOptions, options);\n    this.options.i18n = {\n      ...defaultOptions.i18n,\n      ...(this.options.i18n || {})\n    };\n    this.options.labels = {\n      ...this.options.labels,\n      search: this.options.i18n.search || this.options.labels.search,\n      filter: this.options.i18n.filter || this.options.labels.filter,\n      rows: this.options.i18n.rows || this.options.labels.rows,\n      actions: this.options.i18n.actions || this.options.labels.actions,\n      loading: this.options.i18n.loading || this.options.labels.loading,\n      empty: this.options.i18n.empty || this.options.labels.empty,\n      first: this.options.i18n.first || this.options.labels.first,\n      prev: this.options.i18n.prev || this.options.labels.prev,\n      next: this.options.i18n.next || this.options.labels.next,\n      last: this.options.i18n.last || this.options.labels.last,\n      pageInfo:\n        typeof this.options.i18n.pageInfo === 'string'\n          ? ({ page, totalPages, totalRows }) =>\n              this.options.i18n.pageInfo\n                .replace('{page}', String(page))\n                .replace('{totalPages}', String(totalPages))\n                .replace('{totalRows}', String(totalRows))\n          : this.options.labels.pageInfo\n    };\n\n    if (!this.options.columns.length) {\n      this.options.columns = inferColumns(this.rows);\n    }\n\n    /** @type {EventEmitter} */\n    this.events = new EventEmitter();\n    /** @type {Record<string, Function>} */\n    this.hooks = {};\n    /** @type {StateStore} */\n    this.store = new StateStore({\n      rows: this.rows,\n      pageSize: this.options.pageSize,\n      initialSort: this.options.initialSort,\n      parallel: this.options.parallel\n    });\n\n    const initialOrder = this.options.columns.map((column) => column.key);\n    this.store.setColumnOrder(initialOrder);\n\n    /** @type {Renderer} */\n    this.renderer = new Renderer({ root: element, options: this.options, hooks: this.hooks });\n    /** @type {ReturnType<typeof createDataSource>} */\n    this.dataSource = createDataSource({\n      options: this.options,\n      store: this.store,\n      onLoadingChange: (loading) => this.handleLoadingChange(loading)\n    });\n\n    /** @type {StateSync} */\n    this.stateSync = new StateSync({\n      persistence: this.options.persistence,\n      urlSync: this.options.urlSync,\n      tableId: this.getTableId()\n    });\n\n    /** @type {Set<string>} */\n    this.expandedRowIds = new Set();\n    /** @type {number | null} */\n    this.searchTimer = null;\n    /** @type {boolean} */\n    this.loading = false;\n    /** @type {Record<string, any>} */\n    this.lastView = { rows: [], totalRows: 0, totalPages: 1 };\n    /** @type {number | null} */\n    this.lastAnimationFrame = null;\n    /** @type {{ enabled: boolean, start: number, end: number, rowHeight: number }} */\n    this.virtualization = {\n      enabled: Boolean(this.options.virtualScroll.enabled),\n      start: 0,\n      end: this.options.pageSize,\n      rowHeight: this.options.virtualScroll.rowHeight\n    };\n\n    this.applySyncedState();\n  }\n\n  /**\n   * Initializes DOM and listeners.\n   *\n   * @returns {VanillaTable}\n   */\n  init() {\n    this.renderer.mount();\n    this.bindEvents();\n    void this.refresh();\n    this.emitEvent('init', { instance: this });\n    return this;\n  }\n\n  /**\n   * Re-renders current state to the DOM.\n   *\n   * @returns {Promise<void>}\n   */\n  refresh() {\n    let columns = this.store.getVisibleColumns(this.store.getOrderedColumns(this.options.columns));\n\n    return this.dataSource\n      .getView({ columns })\n      .then((view) => {\n        if (!columns.length && view.rows.length) {\n          this.options.columns = inferColumns(view.rows);\n          this.store.setColumnOrder(this.options.columns.map((column) => column.key));\n          columns = this.store.getVisibleColumns(this.store.getOrderedColumns(this.options.columns));\n        }\n\n        if (this.store.state.page > view.totalPages) {\n          this.store.setPage(view.totalPages);\n          return this.refresh();\n        }\n\n        this.lastView = view;\n        this.virtualization = this.computeVirtualWindow(view.rows.length);\n\n        this.renderer.renderHeader(\n          columns,\n          this.store.state.sorts,\n          this.store.state.columnFilters,\n          this.store.state.columnWidths\n        );\n        this.renderer.renderBody(columns, view.rows, {\n          expandedRowIds: this.expandedRowIds,\n          getRowId: (row, index) => this.getRowId(row, index),\n          expandRow: this.options.expandRow,\n          editableRows: this.options.editableRows,\n          editableColumns: this.options.editableColumns,\n          columnWidths: this.store.state.columnWidths,\n          virtualization: this.virtualization\n        });\n        this.renderer.renderFooter({\n          page: this.store.state.page,\n          totalPages: view.totalPages,\n          totalRows: view.totalRows,\n          loading: this.loading\n        });\n        this.renderer.refs.table?.setAttribute('aria-rowcount', String(view.totalRows));\n\n        this.persistState();\n        this.emitEvent('change', { state: this.getState(), view });\n        this.emitEvent('state:change', this.getState());\n      })\n      .catch((error) => {\n        this.emitEvent('error', { error });\n      });\n  }\n\n  /**\n   * Handles data loading state transitions.\n   *\n   * @param {boolean} loading\n   * @returns {void}\n   */\n  handleLoadingChange(loading) {\n    this.loading = loading;\n    this.renderer.renderFooter({\n      page: this.store.state.page,\n      totalPages: 1,\n      totalRows: 0,\n      loading\n    });\n    this.emitEvent('loading:change', { loading });\n  }\n\n  /**\n   * Attaches DOM event handlers.\n   *\n   * @returns {void}\n   */\n  bindEvents() {\n    this.bindSearchEvents();\n    this.bindSortEvents();\n    this.bindFilterEvents();\n    this.bindPaginationEvents();\n    this.bindExpandEvents();\n    this.bindEditEvents();\n    this.bindActionEvents();\n    this.bindColumnResizeEvents();\n    this.bindColumnReorderEvents();\n    this.bindVirtualScrollEvents();\n    this.bindKeyboardA11yEvents();\n  }\n\n  /**\n   * Attaches search input handlers.\n   *\n   * @returns {void}\n   */\n  bindSearchEvents() {\n    this.renderer.refs.search?.addEventListener('input', (event) => {\n      if (this.searchTimer) clearTimeout(this.searchTimer);\n\n      const applySearch = () => {\n        this.store.setSearchTerm(event.target.value);\n        this.emitEvent('search:change', { term: this.store.state.searchTerm });\n        void this.refresh();\n      };\n\n      if (this.options.debounceMs <= 0) {\n        applySearch();\n        return;\n      }\n\n      this.searchTimer = setTimeout(applySearch, this.options.debounceMs);\n    });\n  }\n\n  /**\n   * Attaches sort handlers.\n   *\n   * @returns {void}\n   */\n  bindSortEvents() {\n    this.renderer.refs.thead?.addEventListener('click', (event) => {\n      const button = event.target.closest('.vt-sort-trigger');\n      if (!button || button.disabled) return;\n      this.store.toggleSort(\n        button.dataset.key,\n        this.options.multiSort && event.shiftKey,\n        this.options.maxSorts\n      );\n      this.emitEvent('sort:change', { sorts: [...this.store.state.sorts] });\n      void this.refresh();\n    });\n  }\n\n  /**\n   * Attaches filter handlers.\n   *\n   * @returns {void}\n   */\n  bindFilterEvents() {\n    this.renderer.refs.thead?.addEventListener('input', (event) => {\n      const input = event.target.closest('.vt-column-filter');\n      if (!input) return;\n      this.store.setColumnFilter(input.dataset.key, input.value);\n      this.emitEvent('filter:change', {\n        key: input.dataset.key,\n        value: this.store.state.columnFilters[input.dataset.key] || ''\n      });\n      void this.refresh();\n    });\n  }\n\n  /**\n   * Attaches pagination handlers.\n   *\n   * @returns {void}\n   */\n  bindPaginationEvents() {\n    this.renderer.refs.pageSize?.addEventListener('change', (event) => {\n      this.store.setPageSize(Number(event.target.value));\n      this.emitEvent('pagesize:change', { pageSize: this.store.state.pageSize });\n      void this.refresh();\n    });\n\n    this.renderer.refs.prev?.addEventListener('click', () => {\n      this.store.setPage(this.store.state.page - 1);\n      this.emitEvent('page:change', { page: this.store.state.page });\n      void this.refresh();\n    });\n\n    this.renderer.refs.next?.addEventListener('click', () => {\n      this.store.setPage(this.store.state.page + 1);\n      this.emitEvent('page:change', { page: this.store.state.page });\n      void this.refresh();\n    });\n\n    this.renderer.refs.first?.addEventListener('click', () => {\n      this.store.setPage(1);\n      this.emitEvent('page:change', { page: this.store.state.page });\n      void this.refresh();\n    });\n\n    this.renderer.refs.last?.addEventListener('click', () => {\n      this.store.setPage(this.lastView.totalPages || 1);\n      this.emitEvent('page:change', { page: this.store.state.page });\n      void this.refresh();\n    });\n  }\n\n  /**\n   * Attaches row expansion handlers.\n   *\n   * @returns {void}\n   */\n  bindExpandEvents() {\n    this.renderer.refs.tbody?.addEventListener('click', (event) => {\n      const trigger = event.target.closest('.vt-expand-trigger');\n      if (!trigger) return;\n      const rowId = trigger.dataset.rowId;\n      this.toggleRow(rowId);\n    });\n  }\n\n  /**\n   * Attaches inline edit handlers.\n   *\n   * @returns {void}\n   */\n  bindEditEvents() {\n    this.renderer.refs.tbody?.addEventListener('dblclick', (event) => {\n      if (!this.options.editableRows) return;\n\n      const cell = event.target.closest('.vt-cell-editable');\n      if (!cell || cell.querySelector('input')) return;\n\n      const rowId = cell.dataset.rowId;\n      const key = cell.dataset.key;\n      const row = this.findRowById(rowId);\n      if (!row) return;\n\n      const input = document.createElement('input');\n      input.type = 'text';\n      input.value = String(row[key] ?? '');\n      input.className = 'vt-inline-input';\n      cell.innerHTML = '';\n      cell.appendChild(input);\n      input.focus();\n\n      const submit = () => {\n        row[key] = input.value;\n        this.emitEvent('edit', { rowId, row, key, value: input.value });\n        this.emitEvent('row:edit', { rowId, row, key, value: input.value });\n        void this.refresh();\n      };\n\n      input.addEventListener('blur', submit, { once: true });\n      input.addEventListener('keydown', (keyboardEvent) => {\n        if (keyboardEvent.key === 'Enter') {\n          input.blur();\n        }\n      });\n    });\n  }\n\n  /**\n   * Attaches row action handlers.\n   *\n   * @returns {void}\n   */\n  bindActionEvents() {\n    this.renderer.refs.tbody?.addEventListener('click', (event) => {\n      const actionButton = event.target.closest('.vt-action-btn');\n      if (!actionButton) return;\n\n      const rowId = actionButton.dataset.rowId;\n      const actionId = actionButton.dataset.actionId;\n      const row = this.findRowById(rowId);\n      const action = this.options.rowActions.find((item) => item.id === actionId);\n      if (!action || !row) return;\n\n      Promise.resolve(action.onClick ? action.onClick({ row, rowId, actionId, table: this, event }) : null)\n        .finally(() => {\n          this.emitEvent('row:action', { row, rowId, actionId });\n        });\n    });\n  }\n\n  /**\n   * Attaches column resize handlers.\n   *\n   * @returns {void}\n   */\n  bindColumnResizeEvents() {\n    if (!this.options.columnResize) return;\n\n    this.renderer.refs.thead?.addEventListener('mousedown', (event) => {\n      const handle = event.target.closest('.vt-resize-handle');\n      if (!handle) return;\n\n      event.preventDefault();\n\n      const key = handle.dataset.key;\n      const startX = event.clientX;\n      const startWidth =\n        this.store.state.columnWidths[key] ||\n        this.renderer.refs.thead.querySelector(`th[data-key=\"${key}\"]`)?.getBoundingClientRect().width ||\n        180;\n\n      const onMove = (moveEvent) => {\n        const nextWidth = startWidth + (moveEvent.clientX - startX);\n        this.store.setColumnWidth(key, nextWidth);\n        this.emitEvent('column:resize', { key, width: this.store.state.columnWidths[key] });\n        void this.refresh();\n      };\n\n      const onUp = () => {\n        window.removeEventListener('mousemove', onMove);\n        window.removeEventListener('mouseup', onUp);\n        this.persistState();\n      };\n\n      window.addEventListener('mousemove', onMove);\n      window.addEventListener('mouseup', onUp);\n    });\n  }\n\n  /**\n   * Attaches column reorder handlers.\n   *\n   * @returns {void}\n   */\n  bindColumnReorderEvents() {\n    if (!this.options.columnReorder) return;\n\n    let draggingKey = null;\n\n    this.renderer.refs.thead?.addEventListener('dragstart', (event) => {\n      const th = event.target.closest('th[data-key]');\n      if (!th) return;\n      draggingKey = th.dataset.key;\n      event.dataTransfer.effectAllowed = 'move';\n    });\n\n    this.renderer.refs.thead?.addEventListener('dragover', (event) => {\n      if (!draggingKey) return;\n      event.preventDefault();\n      event.dataTransfer.dropEffect = 'move';\n    });\n\n    this.renderer.refs.thead?.addEventListener('drop', (event) => {\n      if (!draggingKey) return;\n      event.preventDefault();\n\n      const targetTh = event.target.closest('th[data-key]');\n      if (!targetTh) return;\n\n      const targetKey = targetTh.dataset.key;\n      if (!targetKey || targetKey === draggingKey) return;\n\n      const current = this.store.getOrderedColumns(this.options.columns).map((column) => column.key);\n      const next = current.filter((key) => key !== draggingKey);\n      const targetIndex = next.indexOf(targetKey);\n      next.splice(targetIndex, 0, draggingKey);\n\n      this.store.setColumnOrder(next);\n      this.emitEvent('column:reorder', { order: next });\n      void this.refresh();\n      draggingKey = null;\n    });\n\n    this.renderer.refs.thead?.addEventListener('dragend', () => {\n      draggingKey = null;\n    });\n  }\n\n  /**\n   * Attaches virtual scroll handlers.\n   *\n   * @returns {void}\n   */\n  bindVirtualScrollEvents() {\n    if (!this.options.virtualScroll.enabled) return;\n\n    this.renderer.refs.tableWrap?.addEventListener('scroll', () => {\n      if (this.lastAnimationFrame) {\n        cancelAnimationFrame(this.lastAnimationFrame);\n      }\n      this.lastAnimationFrame = requestAnimationFrame(() => {\n        void this.refresh();\n      });\n    });\n  }\n\n  /**\n   * Attaches keyboard accessibility handlers.\n   *\n   * @returns {void}\n   */\n  bindKeyboardA11yEvents() {\n    this.renderer.refs.thead?.addEventListener('keydown', (event) => {\n      const resizeHandle = event.target.closest('.vt-resize-handle');\n      if (resizeHandle && (event.key === 'ArrowLeft' || event.key === 'ArrowRight')) {\n        event.preventDefault();\n        const key = resizeHandle.dataset.key;\n        const current = this.store.state.columnWidths[key] || 180;\n        const delta = event.key === 'ArrowLeft' ? -16 : 16;\n        this.setColumnWidth(key, current + delta);\n        return;\n      }\n\n      const th = event.target.closest('th[data-key]');\n      if (!th || !this.options.columnReorder) return;\n\n      if (event.altKey && (event.key === 'ArrowLeft' || event.key === 'ArrowRight')) {\n        event.preventDefault();\n        const currentOrder = this.store.getOrderedColumns(this.options.columns).map((column) => column.key);\n        const key = th.dataset.key;\n        const index = currentOrder.indexOf(key);\n        if (index < 0) return;\n\n        const targetIndex =\n          event.key === 'ArrowLeft'\n            ? Math.max(0, index - 1)\n            : Math.min(currentOrder.length - 1, index + 1);\n        if (targetIndex === index) return;\n\n        const next = [...currentOrder];\n        next.splice(index, 1);\n        next.splice(targetIndex, 0, key);\n        this.reorderColumns(next);\n      }\n    });\n  }\n\n  /**\n   * Sets table data and refreshes.\n   *\n   * @param {Record<string, any>[]} rows\n   * @returns {Promise<void>}\n   */\n  setData(rows) {\n    this.rows = Array.isArray(rows) ? rows : [];\n    this.store.setRows(this.rows);\n    this.store.setPage(1);\n    this.emitEvent('data:set', { count: this.rows.length });\n    return this.refresh();\n  }\n\n  /**\n   * Adds one row.\n   *\n   * @param {Record<string, any>} row\n   * @returns {Promise<void>}\n   */\n  addRow(row) {\n    this.store.setRows([...this.store.rows, row]);\n    this.emitEvent('data:add', { row });\n    return this.refresh();\n  }\n\n  /**\n   * Removes one row by identifier.\n   *\n   * @param {string} rowId\n   * @returns {Promise<void>}\n   */\n  removeRowById(rowId) {\n    this.store.setRows(\n      this.store.rows.filter((row, index) => this.getRowId(row, index) !== String(rowId))\n    );\n    this.emitEvent('data:remove', { rowId });\n    return this.refresh();\n  }\n\n  /**\n   * Sets global search term.\n   *\n   * @param {string} term\n   * @returns {Promise<void>}\n   */\n  search(term) {\n    this.store.setSearchTerm(term);\n    this.emitEvent('search:change', { term: this.store.state.searchTerm });\n    return this.refresh();\n  }\n\n  /**\n   * Sets one column filter.\n   *\n   * @param {string} key\n   * @param {string} value\n   * @returns {Promise<void>}\n   */\n  filterBy(key, value) {\n    this.store.setColumnFilter(key, value);\n    this.emitEvent('filter:change', { key, value: this.store.state.columnFilters[key] || '' });\n    return this.refresh();\n  }\n\n  /**\n   * Clears all filters.\n   *\n   * @returns {Promise<void>}\n   */\n  clearFilters() {\n    this.store.clearFilters();\n    this.emitEvent('filter:clear', {});\n    return this.refresh();\n  }\n\n  /**\n   * Sets one sort rule.\n   *\n   * @param {string} key\n   * @param {'asc'|'desc'} [direction]\n   * @param {boolean} [additive]\n   * @returns {Promise<void>}\n   */\n  sortBy(key, direction = 'asc', additive = false) {\n    if (!additive) {\n      this.store.setSorts([{ key, direction }]);\n    } else {\n      const next = [...this.store.state.sorts.filter((item) => item.key !== key), { key, direction }];\n      this.store.setSorts(next.slice(-this.options.maxSorts));\n    }\n    this.emitEvent('sort:change', { sorts: [...this.store.state.sorts] });\n    return this.refresh();\n  }\n\n  /**\n   * Clears sort state.\n   *\n   * @returns {Promise<void>}\n   */\n  clearSort() {\n    this.store.clearSorts();\n    this.emitEvent('sort:clear', {});\n    return this.refresh();\n  }\n\n  /**\n   * Goes to one page.\n   *\n   * @param {number} page\n   * @returns {Promise<void>}\n   */\n  goToPage(page) {\n    this.store.setPage(page);\n    this.emitEvent('page:change', { page: this.store.state.page });\n    return this.refresh();\n  }\n\n  /**\n   * Sets page size.\n   *\n   * @param {number} pageSize\n   * @returns {Promise<void>}\n   */\n  setPageSize(pageSize) {\n    this.store.setPageSize(pageSize);\n    this.emitEvent('pagesize:change', { pageSize: this.store.state.pageSize });\n    return this.refresh();\n  }\n\n  /**\n   * Expands one row.\n   *\n   * @param {string} rowId\n   * @returns {Promise<void>}\n   */\n  expandRow(rowId) {\n    this.expandedRowIds.add(String(rowId));\n    this.emitEvent('row:expand', { rowId: String(rowId) });\n    return this.refresh();\n  }\n\n  /**\n   * Collapses one row.\n   *\n   * @param {string} rowId\n   * @returns {Promise<void>}\n   */\n  collapseRow(rowId) {\n    this.expandedRowIds.delete(String(rowId));\n    this.emitEvent('row:collapse', { rowId: String(rowId) });\n    return this.refresh();\n  }\n\n  /**\n   * Toggles one row expansion state.\n   *\n   * @param {string} rowId\n   * @returns {Promise<void>}\n   */\n  toggleRow(rowId) {\n    const normalized = String(rowId);\n    if (this.expandedRowIds.has(normalized)) {\n      return this.collapseRow(normalized);\n    }\n    return this.expandRow(normalized);\n  }\n\n  /**\n   * Expands all current rows.\n   *\n   * @returns {Promise<void>}\n   */\n  expandAllRows() {\n    this.store.rows.forEach((row, index) => {\n      this.expandedRowIds.add(this.getRowId(row, index));\n    });\n    this.emitEvent('row:expandAll', {});\n    return this.refresh();\n  }\n\n  /**\n   * Collapses all rows.\n   *\n   * @returns {Promise<void>}\n   */\n  collapseAllRows() {\n    this.expandedRowIds.clear();\n    this.emitEvent('row:collapseAll', {});\n    return this.refresh();\n  }\n\n  /**\n   * Updates one cell value.\n   *\n   * @param {string} rowId\n   * @param {string} key\n   * @param {any} value\n   * @returns {Promise<void>}\n   */\n  updateCell(rowId, key, value) {\n    const row = this.findRowById(String(rowId));\n    if (!row) return Promise.resolve();\n    row[key] = value;\n    this.emitEvent('edit', { rowId: String(rowId), row, key, value });\n    this.emitEvent('row:edit', { rowId: String(rowId), row, key, value });\n    return this.refresh();\n  }\n\n  /**\n   * Sets editable mode for one column.\n   *\n   * @param {string} key\n   * @param {boolean} editable\n   * @returns {Promise<void>}\n   */\n  setColumnEditable(key, editable) {\n    this.options.columns = this.options.columns.map((column) =>\n      column.key === key ? { ...column, editable } : column\n    );\n    this.options.editableColumns[key] = editable;\n    this.emitEvent('column:editable', { key, editable });\n    return this.refresh();\n  }\n\n  /**\n   * Sets one column width.\n   *\n   * @param {string} key\n   * @param {number} width\n   * @returns {Promise<void>}\n   */\n  setColumnWidth(key, width) {\n    this.store.setColumnWidth(key, width);\n    this.emitEvent('column:resize', { key, width: this.store.state.columnWidths[key] });\n    return this.refresh();\n  }\n\n  /**\n   * Reorders columns by key array.\n   *\n   * @param {string[]} order\n   * @returns {Promise<void>}\n   */\n  reorderColumns(order) {\n    this.store.setColumnOrder(order);\n    this.emitEvent('column:reorder', { order: [...order] });\n    return this.refresh();\n  }\n\n  /**\n   * Sets visibility for one column.\n   *\n   * @param {string} key\n   * @param {boolean} visible\n   * @returns {Promise<void>}\n   */\n  setColumnVisibility(key, visible) {\n    this.store.setColumnVisibility(key, visible);\n    this.emitEvent('column:visibility', { key, visible: Boolean(visible) });\n    return this.refresh();\n  }\n\n  /**\n   * Toggles visibility for one column.\n   *\n   * @param {string} key\n   * @returns {Promise<void>}\n   */\n  toggleColumnVisibility(key) {\n    const next = this.store.state.columnVisibility[key] === false;\n    return this.setColumnVisibility(key, next);\n  }\n\n  /**\n   * Applies theme classes and re-renders.\n   *\n   * @param {Record<string, string>} classes\n   * @returns {Promise<VanillaTable>}\n   */\n  setThemeClasses(classes) {\n    this.options.themeClasses = {\n      ...this.options.themeClasses,\n      ...(classes || {})\n    };\n    this.renderer.setOptions(this.options);\n    this.renderer.mount();\n    this.bindEvents();\n    return this.refresh().then(() => this);\n  }\n\n  /**\n   * Returns current serializable state.\n   *\n   * @returns {Record<string, any>}\n   */\n  getState() {\n    return {\n      ...this.store.getState(),\n      expandedRowIds: [...this.expandedRowIds]\n    };\n  }\n\n  /**\n   * Applies one state payload.\n   *\n   * @param {Record<string, any>} payload\n   * @returns {Promise<void>}\n   */\n  setState(payload) {\n    this.store.setState(payload);\n    if (Array.isArray(payload?.expandedRowIds)) {\n      this.expandedRowIds = new Set(payload.expandedRowIds.map((value) => String(value)));\n    }\n    return this.refresh();\n  }\n\n  /**\n   * Returns latest view payload.\n   *\n   * @returns {{ rows: Record<string, any>[], totalRows: number, totalPages: number }}\n   */\n  getView() {\n    return this.lastView;\n  }\n\n  /**\n   * Returns all current source rows.\n   *\n   * @returns {Record<string, any>[]}\n   */\n  getRows() {\n    return this.store.rows;\n  }\n\n  /**\n   * Subscribes to lifecycle events.\n   *\n   * @param {string} event\n   * @param {(payload: any) => void} callback\n   * @returns {() => void}\n   */\n  on(event, callback) {\n    return this.events.on(event, callback);\n  }\n\n  /**\n   * Applies a plugin function to the instance.\n   *\n   * @param {(table: VanillaTable) => void} plugin\n   * @returns {VanillaTable}\n   */\n  use(plugin) {\n    plugin(this);\n    return this;\n  }\n\n  /**\n   * Registers a render lifecycle hook.\n   *\n   * @param {string} name\n   * @param {(context: any) => void} callback\n   * @returns {VanillaTable}\n   */\n  registerHook(name, callback) {\n    this.hooks[name] = callback;\n    return this;\n  }\n\n  /**\n   * Clears rendered markup and emits destroy event.\n   *\n   * @returns {void}\n   */\n  destroy() {\n    if (this.searchTimer) {\n      clearTimeout(this.searchTimer);\n      this.searchTimer = null;\n    }\n    if (this.lastAnimationFrame) {\n      cancelAnimationFrame(this.lastAnimationFrame);\n      this.lastAnimationFrame = null;\n    }\n    this.store.destroy();\n    this.root.innerHTML = '';\n    this.emitEvent('destroy', {});\n  }\n\n  /**\n   * Resolves a row identifier.\n   *\n   * @param {Record<string, any>} row\n   * @param {number} index\n   * @returns {string}\n   */\n  getRowId(row, index) {\n    const value = row[this.options.rowIdKey];\n    return String(value ?? `${index}`);\n  }\n\n  /**\n   * Finds a row by string identifier.\n   *\n   * @param {string} rowId\n   * @returns {Record<string, any> | undefined}\n   */\n  findRowById(rowId) {\n    return this.store.rows.find((row, index) => this.getRowId(row, index) === rowId);\n  }\n\n  /**\n   * Emits one event payload.\n   *\n   * @param {string} event\n   * @param {any} payload\n   * @returns {void}\n   */\n  emitEvent(event, payload) {\n    this.events.emit(event, payload);\n    if (this.options.events.debug && typeof console !== 'undefined') {\n      console.debug(`[vanilla-tables] ${event}`, payload);\n    }\n  }\n\n  /**\n   * Persists current state via configured sync backends.\n   *\n   * @returns {void}\n   */\n  persistState() {\n    this.stateSync.save(this.getState());\n  }\n\n  /**\n   * Applies synced state from storage and URL.\n   *\n   * @returns {void}\n   */\n  applySyncedState() {\n    const synced = this.stateSync.load();\n    this.store.setState(synced);\n    if (Array.isArray(synced?.expandedRowIds)) {\n      this.expandedRowIds = new Set(synced.expandedRowIds.map((value) => String(value)));\n    }\n  }\n\n  /**\n   * Computes virtual scroll window.\n   *\n   * @param {number} totalRows\n   * @returns {{ enabled: boolean, start: number, end: number, rowHeight: number }}\n   */\n  computeVirtualWindow(totalRows) {\n    if (!this.options.virtualScroll.enabled || !this.renderer.refs.tableWrap) {\n      return {\n        enabled: false,\n        start: 0,\n        end: totalRows,\n        rowHeight: this.options.virtualScroll.rowHeight\n      };\n    }\n\n    const wrap = this.renderer.refs.tableWrap;\n    const rowHeight = this.options.virtualScroll.rowHeight;\n    const overscan = this.options.virtualScroll.overscan;\n    const visibleCount = Math.ceil((wrap.clientHeight || this.options.virtualScroll.height) / rowHeight);\n    const start = Math.max(0, Math.floor(wrap.scrollTop / rowHeight) - overscan);\n    const end = Math.min(totalRows, start + visibleCount + overscan * 2);\n\n    return {\n      enabled: true,\n      start,\n      end,\n      rowHeight\n    };\n  }\n\n  /**\n   * Resolves a stable table id used for state sync.\n   *\n   * @returns {string}\n   */\n  getTableId() {\n    if (this.root.id) return this.root.id;\n    const token = Math.random().toString(36).slice(2, 10);\n    return `vt-${token}`;\n  }\n}\n\n/**\n * Infers column metadata from the first data row.\n *\n * @param {Record<string, any>[]} rows\n * @returns {{ key: string, label: string, editable: boolean }[]}\n */\nfunction inferColumns(rows) {\n  if (!rows.length) return [];\n\n  return Object.keys(rows[0]).map((key) => ({\n    key,\n    label: key.charAt(0).toUpperCase() + key.slice(1),\n    editable: true\n  }));\n}\n", "/**\n * Creates a plugin that applies striping classes to rendered rows.\n *\n * @param {{ className?: string }} [options]\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function stripedRowsPlugin(options = {}) {\n  const className = options.className || 'vt-row-striped';\n\n  return (table) => {\n    table.registerHook('afterRowRender', ({ element }) => {\n      const index = Array.from(element.parentElement.children).indexOf(element);\n      if (index % 2 === 1) {\n        element.classList.add(className);\n      }\n    });\n  };\n}\n", "/**\n * Creates a theme plugin that maps semantic keys to CSS classes.\n *\n * @param {Record<string, string>} classes\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function themePlugin(classes) {\n  return (table) => {\n    table.setThemeClasses(classes || {});\n  };\n}\n", "import { themePlugin } from './theme-plugin.js';\n\n/**\n * Creates a Bootstrap-compatible theme plugin.\n *\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function bootstrapThemePlugin() {\n  return themePlugin({\n    shell: 'border-0 rounded-0 bg-transparent',\n    controls: 'd-flex flex-wrap gap-2 align-items-center justify-content-between w-100',\n    searchWrap: 'd-inline-flex align-items-center gap-2',\n    sizeWrap: 'd-inline-flex align-items-center gap-2',\n    searchInput: 'form-control form-control-sm',\n    sizeSelect: 'form-select form-select-sm',\n    tableWrap: 'table-responsive',\n    table: 'table table-hover table-striped mb-0',\n    sortTrigger: 'btn btn-sm p-0 border-0 bg-transparent text-body fw-semibold',\n    actionHeader: 'text-body fw-semibold small',\n    columnFilter: 'form-control form-control-sm',\n    actionSelect: 'form-select form-select-sm w-auto',\n    actionButton: 'btn btn-outline-secondary btn-sm',\n    footer: 'd-flex justify-content-between align-items-center mt-2',\n    paginationGroup: 'd-inline-flex align-items-center gap-2 ms-auto',\n    firstButton: 'btn btn-outline-secondary btn-sm',\n    prevButton: 'btn btn-outline-secondary btn-sm',\n    nextButton: 'btn btn-outline-secondary btn-sm',\n    lastButton: 'btn btn-outline-secondary btn-sm',\n    expandTrigger: 'btn btn-outline-primary btn-sm',\n    editableCell: 'bg-light-subtle'\n  });\n}\n", "import { themePlugin } from './theme-plugin.js';\n\n/**\n * Creates a Bulma-compatible theme plugin.\n *\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function bulmaThemePlugin() {\n  return themePlugin({\n    shell: 'is-block',\n    controls: 'level is-mobile mb-3',\n    searchWrap: 'field has-addons',\n    sizeWrap: 'field has-addons',\n    searchInput: 'input is-small',\n    sizeSelect: 'select is-small',\n    tableWrap: 'table-container',\n    table: 'table is-fullwidth is-hoverable is-striped',\n    sortTrigger: 'button is-white is-small',\n    columnFilter: 'input is-small',\n    footer: 'level mt-3',\n    paginationGroup: 'buttons are-small',\n    firstButton: 'button is-light is-small',\n    prevButton: 'button is-light is-small',\n    nextButton: 'button is-light is-small',\n    lastButton: 'button is-light is-small',\n    expandTrigger: 'button is-info is-light is-small',\n    editableCell: 'has-background-light',\n    actionButton: 'button is-small is-primary is-light',\n    actionSelect: 'select is-small',\n    actionHeader: 'has-text-weight-semibold',\n    fixedHeader: 'has-background-white-ter',\n    fixedFooter: 'has-background-white-ter'\n  });\n}\n", "import { themePlugin } from './theme-plugin.js';\n\n/**\n * Creates a Material UI-like utility class theme plugin.\n *\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function muiThemePlugin() {\n  return themePlugin({\n    shell: 'MuiBox-root',\n    controls: 'MuiToolbar-root MuiToolbar-gutters',\n    searchWrap: 'MuiFormControl-root',\n    sizeWrap: 'MuiFormControl-root',\n    searchInput: 'MuiInputBase-input MuiInputBase-sizeSmall',\n    sizeSelect: 'MuiNativeSelect-select MuiInputBase-input MuiInputBase-sizeSmall',\n    tableWrap: 'MuiTableContainer-root',\n    table: 'MuiTable-root',\n    headerCell: 'MuiTableCell-root MuiTableCell-head',\n    bodyCell: 'MuiTableCell-root',\n    sortTrigger: 'mui-sort-trigger',\n    columnFilter: 'MuiInputBase-input MuiInputBase-sizeSmall',\n    footer: 'MuiToolbar-root MuiToolbar-gutters',\n    paginationGroup: 'MuiPagination-root',\n    firstButton: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n    prevButton: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n    nextButton: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n    lastButton: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n    expandTrigger: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n    editableCell: 'MuiTableCell-editable',\n    actionButton: 'MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-sizeSmall',\n    actionSelect: 'MuiNativeSelect-select MuiInputBase-input MuiInputBase-sizeSmall',\n    actionHeader: 'MuiTableCell-root MuiTableCell-head',\n    fixedHeader: 'MuiTable-stickyHeader',\n    fixedFooter: 'MuiTableFooter-root',\n    fixedColumn: 'MuiTableCell-sticky'\n  });\n}\n", "import { themePlugin } from './theme-plugin.js';\n\n/**\n * Creates a Tailwind-compatible theme plugin.\n *\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function tailwindThemePlugin() {\n  return themePlugin({\n    shell: 'block',\n    controls: 'flex flex-wrap items-center justify-between gap-3 border-b border-slate-200 p-3',\n    searchWrap: 'inline-flex items-center gap-2 text-sm text-slate-700',\n    sizeWrap: 'inline-flex items-center gap-2 text-sm text-slate-700',\n    searchInput: 'rounded-md border border-slate-300 px-2 py-1 text-sm',\n    sizeSelect: 'rounded-md border border-slate-300 px-2 py-1 text-sm',\n    tableWrap: 'overflow-x-auto',\n    table: 'min-w-full divide-y divide-slate-200',\n    headerCell: 'bg-slate-50 px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-600',\n    bodyRow: 'border-b border-slate-100',\n    bodyCell: 'px-3 py-2 text-sm text-slate-800',\n    sortTrigger: 'inline-flex items-center gap-1 text-xs font-semibold text-slate-700 hover:text-slate-900',\n    columnFilter: 'w-full rounded-md border border-slate-300 px-2 py-1 text-sm',\n    filterRow: 'bg-white',\n    filterHeaderCell: 'bg-white px-3 py-2',\n    footer: 'flex items-center justify-between gap-2 border-t border-slate-200 p-3',\n    paginationGroup: 'inline-flex items-center gap-2 ml-auto',\n    firstButton: 'rounded-md border border-slate-300 px-2 py-1 text-sm hover:bg-slate-50',\n    prevButton: 'rounded-md border border-slate-300 px-2 py-1 text-sm hover:bg-slate-50',\n    nextButton: 'rounded-md border border-slate-300 px-2 py-1 text-sm hover:bg-slate-50',\n    lastButton: 'rounded-md border border-slate-300 px-2 py-1 text-sm hover:bg-slate-50',\n    info: 'text-sm text-slate-600',\n    expandTrigger: 'rounded-md border border-slate-300 px-2 py-0.5 text-sm hover:bg-slate-50',\n    editableCell: 'bg-amber-50',\n    actionsCell: 'px-3 py-2',\n    actionButton: 'rounded-md border border-slate-300 px-2 py-1 text-xs hover:bg-slate-50',\n    actionSelect: 'rounded-md border border-slate-300 bg-white px-2 py-1 text-sm',\n    actionHeader: 'bg-slate-50 px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-600',\n    emptyCell: 'px-3 py-6 text-center text-sm text-slate-500',\n    expandContent: 'bg-slate-50 px-3 py-2 text-sm text-slate-700',\n    fixedHeader: 'sticky top-0 z-10',\n    fixedFooter: 'sticky bottom-0 z-10 bg-white',\n    fixedColumn: 'bg-white'\n  });\n}\n", "/**\n * Creates a plugin that renders row actions as a compact dropdown.\n *\n * @param {{ placeholder?: string }} [options]\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function actionsDropdownPlugin(options = {}) {\n  return (table) => {\n    table.registerHook('afterRowRender', ({ element }) => {\n      const cell = element.querySelector('.vt-actions-cell');\n      if (!cell) return;\n\n      const buttons = [...cell.querySelectorAll('.vt-action-btn')];\n      if (buttons.length < 2) return;\n\n      const select = document.createElement('select');\n      select.className = table.renderer?.theme?.classOf\n        ? table.renderer.theme.classOf('actionSelect', 'vt-action-select')\n        : 'vt-action-select';\n\n      const placeholder = document.createElement('option');\n      placeholder.value = '';\n      placeholder.textContent = options.placeholder || 'Actions';\n      select.appendChild(placeholder);\n\n      buttons.forEach((button) => {\n        const option = document.createElement('option');\n        option.value = button.dataset.actionId || '';\n        option.textContent = button.textContent || button.dataset.actionId || '';\n        select.appendChild(option);\n      });\n\n      select.addEventListener('change', () => {\n        const id = select.value;\n        if (!id) return;\n\n        const rowId = element.dataset.rowId;\n        const row = table.findRowById(rowId);\n        const action = table.options.rowActions.find((item) => item.id === id);\n        if (action && row) {\n          Promise.resolve(\n            action.onClick ? action.onClick({ row, rowId, actionId: id, table, event: new Event('change') }) : null\n          ).finally(() => {\n            table.emitEvent('row:action', { row, rowId, actionId: id });\n            table.refresh();\n          });\n        }\n\n        select.value = '';\n      });\n\n      cell.innerHTML = '';\n      cell.appendChild(select);\n    });\n  };\n}\n", "/**\n * Creates a REST fetch adapter.\n *\n * @param {{ endpoint: string, method?: 'GET'|'POST', headers?: Record<string, string>, mapResponse?: (response: any) => { rows: any[], totalRows: number } }} config\n * @returns {(query: Record<string, any>) => Promise<{ rows: any[], totalRows: number }>}\n */\nexport function createRestAdapter({ endpoint, method = 'GET', headers = {}, mapResponse }) {\n  return (query) => {\n    const upper = method.toUpperCase();\n    const isGet = upper === 'GET';\n\n    let url = endpoint;\n    const init = {\n      method: upper,\n      headers: {\n        'Content-Type': 'application/json',\n        ...headers\n      }\n    };\n\n    if (isGet) {\n      const params = new URLSearchParams({ q: JSON.stringify(query) });\n      url = `${endpoint}${endpoint.includes('?') ? '&' : '?'}${params.toString()}`;\n    } else {\n      init.body = JSON.stringify(query);\n    }\n\n    return fetch(url, init)\n      .then((response) => response.json())\n      .then((payload) => (mapResponse ? mapResponse(payload) : payload));\n  };\n}\n\n/**\n * Creates a GraphQL fetch adapter.\n *\n * @param {{ endpoint: string, query: string, variablesKey?: string, headers?: Record<string, string>, mapResponse?: (response: any) => { rows: any[], totalRows: number } }} config\n * @returns {(tableQuery: Record<string, any>) => Promise<{ rows: any[], totalRows: number }>}\n */\nexport function createGraphQLAdapter({ endpoint, query, variablesKey = 'tableQuery', headers = {}, mapResponse }) {\n  return (tableQuery) =>\n    fetch(endpoint, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        ...headers\n      },\n      body: JSON.stringify({\n        query,\n        variables: {\n          [variablesKey]: tableQuery\n        }\n      })\n    })\n      .then((response) => response.json())\n      .then((payload) => (mapResponse ? mapResponse(payload) : payload));\n}\n\n/**\n * Creates a cursor pagination adapter.\n *\n * @param {{ fetchPage: (args: { cursor: string | null, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[] }) => Promise<{ rows: any[], nextCursor: string | null, totalRows?: number }> }} config\n * @returns {(tableQuery: Record<string, any>) => Promise<{ rows: any[], totalRows: number }>}\n */\nexport function createCursorAdapter({ fetchPage }) {\n  let lastCursor = null;\n\n  return (tableQuery) => {\n    if (tableQuery.page <= 1) {\n      lastCursor = null;\n    }\n\n    return Promise.resolve(\n      fetchPage({\n        cursor: lastCursor,\n        pageSize: tableQuery.pageSize,\n        searchTerm: tableQuery.searchTerm,\n        columnFilters: tableQuery.columnFilters,\n        sorts: tableQuery.sorts\n      })\n    ).then((result) => {\n      lastCursor = result.nextCursor || null;\n      return {\n        rows: result.rows || [],\n        totalRows: Number(result.totalRows || (result.rows || []).length)\n      };\n    });\n  };\n}\n"],
  "mappings": "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",
  "names": ["appendClassNames", "appendClassNames", "current", "output", "index"]
}
